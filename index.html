<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- START: SEO 최적화 태그 -->
    <title>온라인 간편 계산기 | 코인 환율, 세계 환율, 만나이, 연봉, 부동산, 예적금, 로벅스, BMI, D-Day, 대출, 학점</title>
    <meta name="description" content="코인/국가 환율, 만 나이, 연봉 실수령액, 부동산 중개보수, 예적금 이자, BMI, D-Day, 대출 이자, 학점까지 모든 것을 간편하게 계산하세요.">
    <meta name="keywords" content="온라인 계산기, 만능 계산기, 코인 계산기, 환율 계산기, 만나이 계산기, 연봉 계산기, 부동산 계산기, 이자 계산기, BMI 계산기, D-Day 계산기, 대출 이자 계산기, 학점 계산기">
    <!-- END: SEO 최적화 태그 -->

    <!-- 1. 구글 애드센스 심사 코드는 여기에 성공적으로 삽입되었습니다. -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1665611122111123"
     crossorigin="anonymous"></script>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', 'Inter', sans-serif;
        }
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type=number] {
            -moz-appearance: textfield;
        }
        .info-section h3 {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 1rem;
        }
        /* 활성화된 네비게이션 링크 스타일 */
        .active-nav-link {
            background-color: #f1f5f9;
            color: #0f172a;
        }
        .coupang-banner {
            margin-top: 2rem;
            text-align: center;
        }
        .copy-btn {
            padding: 0.5rem;
            color: #9ca3af;
            transition: color 0.2s;
        }
        .copy-btn:hover {
            color: #4b5563;
        }
        .copy-message {
            font-size: 0.875rem;
            color: #059669;
            font-weight: 600;
            position: absolute;
            top: -1.5rem;
            right: 0;
        }
        .result-container {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>
<body class="bg-gray-50">

    <!-- Overlay for Mobile Sidebar -->
    <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 z-10 hidden lg:hidden"></div>

    <div class="relative min-h-screen lg:flex">
        <!-- Left Sidebar -->
        <aside id="sidebar" class="fixed top-0 left-0 w-3/4 max-w-xs h-full bg-white shadow-xl p-6 z-20 transform -translate-x-full transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0 lg:w-1/4 lg:h-screen lg:shadow-md lg:max-w-none lg:sticky flex flex-col">
            <div class="flex justify-between items-center border-b pb-4 mb-6">
                <h2 class="text-xl font-bold text-slate-800 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 text-slate-600"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/></svg>
                    계산기 목록
                </h2>
                <button id="closeButton" class="lg:hidden text-gray-500 hover:text-gray-800">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            
            <nav class="space-y-1 flex-grow overflow-y-auto">
                 <a href="#" data-tab-link="crypto" class="flex items-center p-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-100 tab-link-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 mr-3 text-slate-500"><circle cx="8" cy="18" r="4"/><path d="M12 18V2l7 4-7 4"/><path d="m6 12 6-4 6 4"/><path d="M6 6 12 2l6 4"/></svg>
                    주요 코인 환율
                </a>
                 <a href="#" data-tab-link="exchangeRate" class="flex items-center p-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-100 tab-link-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 mr-3 text-slate-500"><circle cx="12" cy="12" r="10"/><path d="M2 12h20"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                    세계 환율
                </a>
                 <a href="#" data-tab-link="age" class="flex items-center p-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-100 tab-link-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 mr-3 text-slate-500"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>
                    만 나이
                </a>
                <a href="#" data-tab-link="salary" class="flex items-center p-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-100 tab-link-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 mr-3 text-slate-500"><path d="M12 1v22"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                    연봉 실수령액
                </a>
                <a href="#" data-tab-link="commission" class="flex items-center p-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-100 tab-link-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 mr-3 text-slate-500"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                    부동산 중개보수
                </a>
                <a href="#" data-tab-link="interest" class="flex items-center p-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-100 tab-link-item">
                     <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 mr-3 text-slate-500"><path d="M7 21h10"/><path d="M12 21v-8.5a2.5 2.5 0 0 0-5 0V21"/><path d="M12 3v2.55A2.5 2.5 0 0 1 9.55 8H8.55A2.5 2.5 0 0 1 6 5.45V4.03a2.49 2.49 0 0 1 2-2.45V1"/><path d="M12 21v-8.5a2.5 2.5 0 0 1 5 0V21"/><path d="M12 3v2.55A2.5 2.5 0 0 0 14.45 8h.95a2.5 2.5 0 0 0 2.5-2.55V4.03a2.49 2.49 0 0 0-2-2.45V1"/></svg>
                    예/적금 이자
                </a>
                <a href="#" data-tab-link="robux" class="flex items-center p-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-100 tab-link-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 mr-3 text-slate-500"><path d="m15.12 4.2-1.24 2.16a2 2 0 0 1-3.05.6l-4.1-2.25a2 2 0 0 0-2.3,0l-1.31.75a2 2 0 0 0-1.13 1.74l.26,2.83a2 2 0 0 1-.58,1.8l-1.63,1.9a2 2 0 0 0 0,2.68l1.63,1.9a2 2 0 0 1 .58,1.8l-.26,2.83a2 2 0 0 0 1.13,1.74l1.31.75a2 2 0 0 0 2.3,0l4.1-2.25a2 2 0 0 1 3.05.6l1.24,2.16a2 2 0 0 0 1.78,1.06h2.15a2 2 0 0 0 1.95-2.27L20.1,6.53a2 2 0 0 0-1.95-2.27h-2.15a2 2 0 0 0-1.78,1.06Z"/><path d="M13 7.5 11.5 5l-2 3L8 5l-2 3.5h7Z"/></svg>
                    로벅스 환율
                </a>
                <a href="#" data-tab-link="bmi" class="flex items-center p-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-100 tab-link-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 mr-3 text-slate-500"><path d="M6 21h12a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2Z"/><path d="M12 3v4"/><path d="M12 17v4"/><path d="M12 12h-4"/><path d="M12 12h4"/></svg>
                    BMI (비만도)
                </a>
                 <a href="#" data-tab-link="dday" class="flex items-center p-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-100 tab-link-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 mr-3 text-slate-500"><path d="M8 2v4"/><path d="M16 2v4"/><rect width="18" height="18" x="3" y="4" rx="2"/><path d="M3 10h18"/><path d="M8 14h.01"/><path d="M12 14h.01"/><path d="M16 14h.01"/><path d="M8 18h.01"/><path d="M12 18h.01"/><path d="M16 18h.01"/></svg>
                    D-Day
                </a>
                <a href="#" data-tab-link="loan" class="flex items-center p-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-100 tab-link-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 mr-3 text-slate-500"><path d="M2 12c0-4.4 3.6-8 8-8s8 3.6 8 8c0 2.2-1 4-3 6"/><path d="m14 12-2-2-2 2"/><path d="M12 12v6"/><path d="M19 12a7 7 0 1 0-14 0 7 7 0 0 0 14 0Z"/></svg>
                    대출 이자
                </a>
                <a href="#" data-tab-link="gpa" class="flex items-center p-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-100 tab-link-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 mr-3 text-slate-500"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
                    학점
                </a>
            </nav>

            <!-- Coupang Partners Banner for Desktop -->
            <div class="mt-6 pt-6 border-t flex-shrink-0">
                <h3 class="font-bold text-lg mb-4 text-gray-800">오늘의 핫딜!</h3>
                <div class="w-full overflow-hidden">
                    <script src="https://ads-partners.coupang.com/g.js"></script>
                    <script>
                        new PartnersCoupang.G({"id":914985,"template":"carousel","trackingCode":"AF3175091","width":"320","height":"300","tsource":""});
                    </script>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="w-full p-4 sm:p-6 md:p-8">
             <!-- Mobile Header -->
            <header class="lg:hidden flex justify-between items-center mb-6">
                <div>
                    <h1 class="text-2xl font-bold text-gray-800">온라인 간편 계산기</h1>
                    <h2 id="currentCalculatorTitleMobile" class="text-lg font-medium text-blue-600"></h2>
                </div>
                <button id="menuButton" class="p-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
            </header>

            <div class="w-full max-w-4xl mx-auto">
                <!-- Coupang Partners Banner for Mobile -->
                <div class="lg:hidden mb-6">
                     <h3 class="font-bold text-lg mb-4 text-gray-800">오늘의 핫딜!</h3>
                     <script src="https://ads-partners.coupang.com/g.js"></script>
                     <script>
                          new PartnersCoupang.G({"id":914985,"template":"carousel","trackingCode":"AF3175091","width":"320","height":"300","tsource":""});
                     </script>
                </div>

                <div class="bg-white rounded-2xl shadow-lg p-6 sm:p-8">
                    <!-- Header for Desktop -->
                    <div class="text-center mb-6 hidden lg:block">
                        <h1 class="text-3xl sm:text-4xl font-bold text-gray-800">온라인 간편 계산기</h1>
                        <p class="text-gray-500 mt-2">생활에 필요한 모든 계산을 한 곳에서</p>
                        <h2 id="currentCalculatorTitle" class="text-2xl font-bold text-blue-600 mt-4"></h2>
                    </div>

                    <!-- Calculator Container -->
                    <div id="calculatorContainer">
                        <!-- 주요 코인 환율 계산기 -->
                        <div id="cryptoCalculator" class="hidden">
                            <div class="bg-amber-50 border-l-4 border-amber-500 text-amber-700 p-4 rounded-lg mb-6" role="alert">
                                <p class="font-bold">참고</p>
                                <p id="cryptoRateInfoText">실시간 코인 시세 정보를 불러오는 중입니다...</p>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4">
                                <div><label for="cryptoKrw" class="font-semibold text-gray-700 flex items-center">🇰🇷 대한민국 원 (KRW)</label><input type="text" id="cryptoKrw" data-asset="KRW" class="crypto-input w-full p-3 border rounded-lg mt-1" placeholder="1,000,000"></div>
                                <div><label for="cryptoUsd" class="font-semibold text-gray-700 flex items-center">🇺🇸 미국 달러 (USD)</label><input type="number" id="cryptoUsd" data-asset="USD" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="btc" class="font-semibold text-gray-700 flex items-center">₿ 비트코인 (BTC)</label><input type="number" id="btc" data-asset="bitcoin" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="eth" class="font-semibold text-gray-700 flex items-center">♦ 이더리움 (ETH)</label><input type="number" id="eth" data-asset="ethereum" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="sol" class="font-semibold text-gray-700 flex items-center">☀️ 솔라나 (SOL)</label><input type="number" id="sol" data-asset="solana" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="bnb" class="font-semibold text-gray-700 flex items-center">🔶 BNB</label><input type="number" id="bnb" data-asset="binancecoin" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="xrp" class="font-semibold text-gray-700 flex items-center">✕ 리플 (XRP)</label><input type="number" id="xrp" data-asset="ripple" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="doge" class="font-semibold text-gray-700 flex items-center">Ɖ 도지코인 (DOGE)</label><input type="number" id="doge" data-asset="dogecoin" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="ada" class="font-semibold text-gray-700 flex items-center">🔷 카르다노 (ADA)</label><input type="number" id="ada" data-asset="cardano" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="ton" class="font-semibold text-gray-700 flex items-center">💎 톤코인 (TON)</label><input type="number" id="ton" data-asset="the-open-network" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="avax" class="font-semibold text-gray-700 flex items-center">🔺 아발란체 (AVAX)</label><input type="number" id="avax" data-asset="avalanche-2" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="dot" class="font-semibold text-gray-700 flex items-center">⚫️ 폴카닷 (DOT)</label><input type="number" id="dot" data-asset="polkadot" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                            </div>
                            <div class="mt-6 flex justify-end">
                                <button data-calculator="crypto" class="reset-btn bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors">초기화</button>
                            </div>
                            <div class="coupang-banner">
                                <a href="https://link.coupang.com/a/cNQaby" target="_blank" referrerpolicy="unsafe-url"><img src="https://ads-partners.coupang.com/banners/321206?subId=&traceId=V0-301-bae0f72e5e59e45f-I321206&w=728&h=90" alt=""></a>
                            </div>
                        </div>

                        <!-- 세계 환율 계산기 -->
                        <div id="exchangeRateCalculator" class="hidden">
                             <div class="bg-blue-50 border-l-4 border-blue-500 text-blue-700 p-4 rounded-lg mb-6" role="alert">
                                <p class="font-bold">참고</p>
                                <p id="exchangeRateInfoText">실시간 환율 정보를 불러오는 중입니다...</p>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4">
                                <div><label for="krw" class="font-semibold text-gray-700 flex items-center">🇰🇷 대한민국 원 (KRW)</label><input type="text" id="krw" data-currency="KRW" class="currency-input w-full p-3 border rounded-lg mt-1" placeholder="10,000"></div>
                                <div><label for="usd" class="font-semibold text-gray-700 flex items-center">🇺🇸 미국 달러 (USD)</label><input type="number" id="usd" data-currency="USD" class="currency-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="jpy" class="font-semibold text-gray-700 flex items-center">🇯🇵 일본 엔 (JPY)</label><input type="number" id="jpy" data-currency="JPY" class="currency-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="eur" class="font-semibold text-gray-700 flex items-center">🇪🇺 유럽 유로 (EUR)</label><input type="number" id="eur" data-currency="EUR" class="currency-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="cny" class="font-semibold text-gray-700 flex items-center">🇨🇳 중국 위안 (CNY)</label><input type="number" id="cny" data-currency="CNY" class="currency-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="gbp" class="font-semibold text-gray-700 flex items-center">🇬🇧 영국 파운드 (GBP)</label><input type="number" id="gbp" data-currency="GBP" class="currency-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="cad" class="font-semibold text-gray-700 flex items-center">🇨🇦 캐나다 달러 (CAD)</label><input type="number" id="cad" data-currency="CAD" class="currency-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="aud" class="font-semibold text-gray-700 flex items-center">🇦🇺 호주 달러 (AUD)</label><input type="number" id="aud" data-currency="AUD" class="currency-input w-full p-3 border rounded-lg mt-1"></div>
                            </div>
                            <div class="mt-6 flex justify-end">
                                <button data-calculator="exchangeRate" class="reset-btn bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors">초기화</button>
                            </div>
                             <div class="coupang-banner">
                                <a href="https://link.coupang.com/a/cNQaby" target="_blank" referrerpolicy="unsafe-url"><img src="https://ads-partners.coupang.com/banners/321206?subId=&traceId=V0-301-bae0f72e5e59e45f-I321206&w=728&h=90" alt=""></a>
                            </div>
                        </div>

                        <!-- 만 나이 계산기 -->
                        <div id="ageCalculator" class="hidden">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                                <div class="space-y-6">
                                    <div>
                                        <label for="birthDate" class="font-semibold text-gray-700">생년월일</label>
                                        <input type="date" id="birthDate" class="w-full p-3 border rounded-lg mt-2">
                                    </div>
                                    <div class="flex gap-4">
                                        <button data-calculator="age" class="reset-btn w-full bg-gray-200 text-gray-700 font-bold py-4 rounded-lg hover:bg-gray-300 transition-colors text-lg">초기화</button>
                                        <button id="ageCalculateBtn" class="w-full bg-purple-500 text-white font-bold py-4 rounded-lg hover:bg-purple-600 transition-colors text-lg">나이 계산하기</button>
                                    </div>
                                     <div class="coupang-banner">
                                        <a href="https://link.coupang.com/a/cNQaby" target="_blank" referrerpolicy="unsafe-url"><img src="https://ads-partners.coupang.com/banners/321206?subId=&traceId=V0-301-bae0f72e5e59e45f-I321206&w=728&h=90" alt=""></a>
                                    </div>
                                </div>
                                <div class="bg-gray-50 rounded-lg p-6 flex flex-col justify-center items-center text-center h-full">
                                    <p class="text-gray-600">만 나이는</p>
                                    <div class="result-container">
                                        <div id="ageResultText" class="text-4xl sm:text-5xl font-bold my-4 text-gray-800">0 세</div>
                                        <button id="copyAgeBtn" class="copy-btn" title="결과 복사">
                                             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                                        </button>
                                        <span id="copyAgeMsg" class="copy-message hidden">복사 완료!</span>
                                    </div>
                                    <div id="ageResultDetails" class="text-gray-500">생년월일을 입력해주세요.</div>
                                </div>
                            </div>
                        </div>

                        <!-- 연봉 실수령액 계산기 -->
                        <div id="salaryCalculator" class="hidden">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div class="space-y-4">
                                    <div>
                                        <label class="font-semibold text-gray-700">퇴직금</label>
                                        <div class="flex gap-4 mt-2">
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="severancePay" value="exclude" class="mr-2" checked> 미포함(1/12)</label>
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="severancePay" value="include" class="mr-2"> 포함(1/13)</label>
                                        </div>
                                    </div>
                                    <div><label for="annualSalary" class="font-semibold text-gray-700">연봉</label><div class="relative mt-2"><input type="text" id="annualSalary" class="w-full p-3 border rounded-lg" placeholder="예: 50,000,000"><span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400">원</span></div></div>
                                    <div><label for="dependents" class="font-semibold text-gray-700">부양가족 수 (본인포함)</label><div class="relative mt-2"><input type="number" id="dependents" class="w-full p-3 border rounded-lg" value="1" placeholder="1"></div></div>
                                    <div><label for="childrenUnder20" class="font-semibold text-gray-700">20세 이하 자녀 수</label><div class="relative mt-2"><input type="number" id="childrenUnder20" class="w-full p-3 border rounded-lg" value="0" placeholder="0"></div></div>
                                    <div class="flex gap-4">
                                        <button data-calculator="salary" class="reset-btn w-full bg-gray-200 text-gray-700 font-bold py-4 rounded-lg hover:bg-gray-300 transition-colors text-lg">초기화</button>
                                        <button id="salaryCalculateBtn" class="w-full bg-indigo-500 text-white font-bold py-4 rounded-lg hover:bg-indigo-600 transition-colors text-lg">실수령액 계산하기</button>
                                    </div>
                                     <div class="coupang-banner">
                                        <a href="https://link.coupang.com/a/cNQaby" target="_blank" referrerpolicy="unsafe-url"><img src="https://ads-partners.coupang.com/banners/321206?subId=&traceId=V0-301-bae0f72e5e59e45f-I321206&w=728&h=90" alt=""></a>
                                    </div>
                                </div>
                                <div class="bg-gray-50 rounded-lg p-6 flex flex-col justify-center text-center space-y-3">
                                    <div class="result-container">
                                        <div><p class="text-gray-600 text-lg">월 예상 실수령액</p><div id="salaryResultNet" class="text-4xl font-bold text-gray-800">0 원</div></div>
                                        <button id="copySalaryBtn" class="copy-btn" title="결과 복사">
                                             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                                        </button>
                                        <span id="copySalaryMsg" class="copy-message hidden">복사 완료!</span>
                                    </div>
                                    <div class="w-full pt-3 border-t text-sm">
                                        <div class="flex justify-between"><span class="text-gray-500">월 예상 소득</span><span id="salaryResultGross" class="font-semibold text-gray-700">0 원</span></div>
                                        <div class="flex justify-between mt-2 text-red-600"><span class="text-red-500">월 공제액 합계</span><span id="salaryResultDeductions" class="font-semibold">0 원</span></div>
                                        <div class="pl-4 mt-1 space-y-1 text-xs">
                                            <div class="flex justify-between"><span class="text-gray-500">┣ 국민연금 (4.5%)</span><span id="salaryDeductPension">0 원</span></div>
                                            <div class="flex justify-between"><span class="text-gray-500">┣ 건강보험 (3.545%)</span><span id="salaryDeductHealth">0 원</span></div>
                                            <div class="flex justify-between"><span class="text-gray-500">┣ 장기요양 (12.95%)</span><span id="salaryDeductCare">0 원</span></div>
                                            <div class="flex justify-between"><span class="text-gray-500">┣ 고용보험 (0.9%)</span><span id="salaryDeductEmployment">0 원</span></div>
                                            <div class="flex justify-between"><span class="text-gray-500">┣ 소득세 (간이세액)</span><span id="salaryDeductIncomeTax">0 원</span></div>
                                            <div class="flex justify-between"><span class="text-gray-500">┗ 지방소득세 (10%)</span><span id="salaryDeductLocalTax">0 원</span></div>
                                        </div>
                                    </div>
                                     <div id="salaryErrorText" class="text-red-500 font-semibold pt-2"></div>
                                </div>
                            </div>
                        </div>

                        <!-- 부동산 중개보수 계산기 -->
                        <div id="commissionCalculator" class="hidden">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div class="space-y-6">
                                    <div>
                                        <label class="font-semibold text-gray-700">거래 종류</label>
                                        <div class="flex gap-4 mt-2" id="tradeTypeContainer">
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="tradeType" value="매매" class="mr-2" checked> 매매/교환</label>
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="tradeType" value="임대차" class="mr-2"> 임대차</label>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="font-semibold text-gray-700">부동산 종류</label>
                                        <div class="flex gap-4 mt-2">
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="propertyType" value="주택" class="mr-2" checked> 주택</label>
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="propertyType" value="오피스텔" class="mr-2"> 오피스텔</label>
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="propertyType" value="기타" class="mr-2"> 그 외</label>
                                        </div>
                                    </div>
                                    <div id="priceContainer">
                                        <label for="price" class="font-semibold text-gray-700">매매가</label>
                                        <div class="relative mt-2"><input type="text" id="price" class="w-full p-3 border rounded-lg" placeholder="예: 500,000,000"><span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400">원</span></div>
                                    </div>
                                    <div id="rentContainer" class="hidden space-y-4">
                                         <div><label for="deposit" class="font-semibold text-gray-700">보증금</label><div class="relative mt-2"><input type="text" id="deposit" class="w-full p-3 border rounded-lg" placeholder="예: 50,000,000"><span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400">원</span></div></div>
                                         <div><label for="monthlyRent" class="font-semibold text-gray-700">월세</label><div class="relative mt-2"><input type="text" id="monthlyRent" class="w-full p-3 border rounded-lg" placeholder="예: 700,000"><span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400">원</span></div></div>
                                    </div>
                                     <div class="flex gap-4">
                                        <button data-calculator="commission" class="reset-btn w-full bg-gray-200 text-gray-700 font-bold py-4 rounded-lg hover:bg-gray-300 transition-colors text-lg">초기화</button>
                                        <button id="commissionCalculateBtn" class="w-full bg-blue-500 text-white font-bold py-4 rounded-lg hover:bg-blue-600 transition-colors text-lg">계산하기</button>
                                    </div>
                                     <div class="coupang-banner">
                                        <a href="https://link.coupang.com/a/cNQaby" target="_blank" referrerpolicy="unsafe-url"><img src="https://ads-partners.coupang.com/banners/321206?subId=&traceId=V0-301-bae0f72e5e59e45f-I321206&w=728&h=90" alt=""></a>
                                    </div>
                                </div>
                                <div class="bg-gray-50 rounded-lg p-6 flex flex-col justify-center items-center text-center">
                                    <p class="text-gray-600">최대 중개보수는</p>
                                    <div class="result-container">
                                        <div id="commissionResultText" class="text-4xl sm:text-5xl font-bold my-4 text-gray-800">0 원</div>
                                        <button id="copyCommissionBtn" class="copy-btn" title="결과 복사">
                                             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                                        </button>
                                        <span id="copyCommissionMsg" class="copy-message hidden">복사 완료!</span>
                                    </div>
                                    <div id="commissionResultDetails" class="text-gray-500">계산 버튼을 눌러주세요.</div>
                                    <div id="commissionErrorText" class="text-red-500 font-semibold mt-4"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 예/적금 이자 계산기 -->
                        <div id="interestCalculator" class="hidden">
                             <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                 <div class="space-y-6">
                                    <div>
                                        <label class="font-semibold text-gray-700">예금 종류</label>
                                        <div class="flex gap-4 mt-2">
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="depositType" value="단리" class="mr-2" checked> 예금(단리)</label>
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="depositType" value="복리" class="mr-2"> 예금(복리)</label>
                                        </div>
                                    </div>
                                    <div><label for="principal" class="font-semibold text-gray-700">예치금액(원)</label><input type="text" id="principal" class="w-full p-3 border rounded-lg mt-2" placeholder="예: 10,000,000"></div>
                                    <div><label for="period" class="font-semibold text-gray-700">예치기간(개월)</label><input type="number" id="period" class="w-full p-3 border rounded-lg mt-2" placeholder="예: 12"></div>
                                    <div><label for="rate" class="font-semibold text-gray-700">연 이자율(%)</label><input type="number" id="rate" class="w-full p-3 border rounded-lg mt-2" placeholder="예: 3.5"></div>
                                    <div>
                                        <label class="font-semibold text-gray-700">과세 구분</label>
                                        <div class="flex gap-4 mt-2">
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="taxType" value="일반" class="mr-2" checked> 일반(15.4%)</label>
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="taxType" value="비과세" class="mr-2"> 비과세</label>
                                        </div>
                                    </div>
                                     <div class="flex gap-4">
                                        <button data-calculator="interest" class="reset-btn w-full bg-gray-200 text-gray-700 font-bold py-4 rounded-lg hover:bg-gray-300 transition-colors text-lg">초기화</button>
                                        <button id="interestCalculateBtn" class="w-full bg-green-500 text-white font-bold py-4 rounded-lg hover:bg-green-600 transition-colors text-lg">이자 계산하기</button>
                                    </div>
                                     <div class="coupang-banner">
                                        <a href="https://link.coupang.com/a/cNQaby" target="_blank" referrerpolicy="unsafe-url"><img src="https://ads-partners.coupang.com/banners/321206?subId=&traceId=V0-301-bae0f72e5e59e45f-I321206&w=728&h=90" alt=""></a>
                                    </div>
                                 </div>
                                 <div class="bg-gray-50 rounded-lg p-6 flex flex-col justify-center text-center space-y-4">
                                      <div class="result-container">
                                        <div><p class="text-gray-600 text-lg">세후 수령액</p><div id="interestResultTotal" class="text-4xl font-bold text-gray-800">0 원</div></div>
                                        <button id="copyInterestBtn" class="copy-btn" title="결과 복사">
                                             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                                        </button>
                                        <span id="copyInterestMsg" class="copy-message hidden">복사 완료!</span>
                                      </div>
                                     <div class="w-full pt-4 border-t">
                                         <div class="flex justify-between"><span class="text-gray-500">원금 합계</span><span id="interestResultPrincipal" class="font-semibold text-gray-700">0 원</span></div>
                                         <div class="flex justify-between mt-2"><span class="text-gray-500">세전 이자</span><span id="interestResultBeforeTax" class="font-semibold text-gray-700">0 원</span></div>
                                         <div class="flex justify-between mt-2"><span class="text-gray-500">이자 과세(15.4%)</span><span id="interestResultTax" class="font-semibold text-red-500">0 원</span></div>
                                     </div>
                                     <div id="interestErrorText" class="text-red-500 font-semibold pt-2"></div>
                                 </div>
                             </div>
                        </div>
                        
                        <!-- 로벅스 환율 계산기 -->
                        <div id="robuxCalculator" class="hidden">
                            <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-lg mb-6" role="alert">
                                <p class="font-bold">참고</p>
                                <p id="robuxRateInfo">현재 환율 정보를 불러오는 중입니다...</p>
                                <p id="robuxStandardInfo"></p>
                            </div>
                            <div class="mb-6">
                                <label class="font-semibold text-gray-700">구매 플랫폼</label>
                                <div class="flex gap-4 mt-2" id="platformSelector">
                                    <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center bg-blue-50 border-blue-200"><input type="radio" name="platform" value="pc" class="mr-2" checked> PC/웹/기프트</label>
                                    <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="platform" value="mobile" class="mr-2"> 모바일/콘솔</label>
                                </div>
                            </div>
                            <div class="space-y-6">
                                <div><label for="robuxInput" class="font-semibold text-gray-700">로벅스 (R$)</label><input type="number" id="robuxInput" class="w-full p-4 border rounded-lg mt-2 text-2xl font-bold" placeholder="1200"></div>
                                <div><label for="krwInputRobux" class="font-semibold text-gray-700">대한민국 원 (₩)</label><input type="text" id="krwInputRobux" class="w-full p-4 border rounded-lg mt-2 text-2xl font-bold" placeholder="15,000"></div>
                                <div><label for="usdInput" class="font-semibold text-gray-700">미국 달러 ($)</label><input type="number" id="usdInput" class="w-full p-4 border rounded-lg mt-2 text-2xl font-bold" placeholder=""></div>
                            </div>
                            <div class="mt-6 flex justify-end">
                                <button data-calculator="robux" class="reset-btn bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors">초기화</button>
                            </div>
                             <div class="coupang-banner">
                                <a href="https://link.coupang.com/a/cNQaby" target="_blank" referrerpolicy="unsafe-url"><img src="https://ads-partners.coupang.com/banners/321206?subId=&traceId=V0-301-bae0f72e5e59e45f-I321206&w=728&h=90" alt=""></a>
                            </div>
                        </div>

                        <!-- BMI 계산기 -->
                        <div id="bmiCalculator" class="hidden">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                                <div class="space-y-6">
                                    <div><label for="height" class="font-semibold text-gray-700">키(cm)</label><input type="number" id="height" class="w-full p-3 border rounded-lg mt-2" placeholder="175"></div>
                                    <div><label for="weight" class="font-semibold text-gray-700">몸무게(kg)</label><input type="number" id="weight" class="w-full p-3 border rounded-lg mt-2" placeholder="70"></div>
                                    <div class="flex gap-4">
                                        <button data-calculator="bmi" class="reset-btn w-full bg-gray-200 text-gray-700 font-bold py-4 rounded-lg hover:bg-gray-300 transition-colors text-lg">초기화</button>
                                        <button id="bmiCalculateBtn" class="w-full bg-cyan-500 text-white font-bold py-4 rounded-lg hover:bg-cyan-600 transition-colors text-lg">계산하기</button>
                                    </div>
                                    <div class="coupang-banner">
                                        <a href="https://link.coupang.com/a/cNQaby" target="_blank" referrerpolicy="unsafe-url"><img src="https://ads-partners.coupang.com/banners/321206?subId=&traceId=V0-301-bae0f72e5e59e45f-I321206&w=728&h=90" alt=""></a>
                                    </div>
                                </div>
                                <div class="bg-gray-50 rounded-lg p-6 flex flex-col justify-center items-center text-center h-full">
                                    <p class="text-gray-600">BMI 지수는</p>
                                    <div class="result-container">
                                        <div id="bmiResultText" class="text-4xl sm:text-5xl font-bold my-2 text-gray-800">0</div>
                                        <button id="copyBmiBtn" class="copy-btn" title="결과 복사">
                                             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                                        </button>
                                        <span id="copyBmiMsg" class="copy-message hidden">복사 완료!</span>
                                    </div>
                                    <div id="bmiResultDetails" class="text-lg font-semibold text-blue-600">값을 입력해주세요.</div>
                                </div>
                            </div>
                        </div>

                        <!-- D-Day 계산기 -->
                        <div id="ddayCalculator" class="hidden">
                             <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                                <div class="space-y-6">
                                    <div>
                                        <label for="ddayDate" class="font-semibold text-gray-700">목표 날짜</label>
                                        <input type="date" id="ddayDate" class="w-full p-3 border rounded-lg mt-2">
                                    </div>
                                     <div class="flex gap-4">
                                        <button data-calculator="dday" class="reset-btn w-full bg-gray-200 text-gray-700 font-bold py-4 rounded-lg hover:bg-gray-300 transition-colors text-lg">초기화</button>
                                        <button id="ddayCalculateBtn" class="w-full bg-rose-500 text-white font-bold py-4 rounded-lg hover:bg-rose-600 transition-colors text-lg">계산하기</button>
                                    </div>
                                    <div class="coupang-banner">
                                        <a href="https://link.coupang.com/a/cNQaby" target="_blank" referrerpolicy="unsafe-url"><img src="https://ads-partners.coupang.com/banners/321206?subId=&traceId=V0-301-bae0f72e5e59e45f-I321206&w=728&h=90" alt=""></a>
                                    </div>
                                </div>
                                <div class="bg-gray-50 rounded-lg p-6 flex flex-col justify-center items-center text-center h-full">
                                    <p id="ddayBaseDate" class="text-gray-600">오늘을 기준으로</p>
                                    <div class="result-container">
                                        <div id="ddayResultText" class="text-4xl sm:text-5xl font-bold my-4 text-gray-800">D-Day</div>
                                        <button id="copyDdayBtn" class="copy-btn" title="결과 복사">
                                             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                                        </button>
                                        <span id="copyDdayMsg" class="copy-message hidden">복사 완료!</span>
                                    </div>
                                    <div id="ddayResultDetails" class="text-gray-500">목표 날짜를 선택해주세요.</div>
                                </div>
                            </div>
                        </div>

                        <!-- 대출 이자 계산기 -->
                        <div id="loanCalculator" class="hidden">
                             <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                 <div class="space-y-6">
                                    <div><label for="loanPrincipal" class="font-semibold text-gray-700">대출원금(원)</label><input type="text" id="loanPrincipal" class="w-full p-3 border rounded-lg mt-2" placeholder="예: 100,000,000"></div>
                                    <div><label for="loanPeriod" class="font-semibold text-gray-700">대출기간(년)</label><input type="number" id="loanPeriod" class="w-full p-3 border rounded-lg mt-2" placeholder="예: 30"></div>
                                    <div><label for="loanRate" class="font-semibold text-gray-700">연 이자율(%)</label><input type="number" id="loanRate" class="w-full p-3 border rounded-lg mt-2" placeholder="예: 4.5"></div>
                                    <div class="flex gap-4">
                                        <button data-calculator="loan" class="reset-btn w-full bg-gray-200 text-gray-700 font-bold py-4 rounded-lg hover:bg-gray-300 transition-colors text-lg">초기화</button>
                                        <button id="loanCalculateBtn" class="w-full bg-orange-500 text-white font-bold py-4 rounded-lg hover:bg-orange-600 transition-colors text-lg">계산하기</button>
                                    </div>
                                    <div class="coupang-banner">
                                        <a href="https://link.coupang.com/a/cNQaby" target="_blank" referrerpolicy="unsafe-url"><img src="https://ads-partners.coupang.com/banners/321206?subId=&traceId=V0-301-bae0f72e5e59e45f-I321206&w=728&h=90" alt=""></a>
                                    </div>
                                 </div>
                                 <div class="bg-gray-50 rounded-lg p-6 flex flex-col justify-center text-center space-y-4">
                                      <div class="result-container">
                                        <div><p class="text-gray-600 text-lg">월 상환 예상금액</p><div id="loanResultTotal" class="text-4xl font-bold text-gray-800">0 원</div></div>
                                        <button id="copyLoanBtn" class="copy-btn" title="결과 복사">
                                             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                                        </button>
                                        <span id="copyLoanMsg" class="copy-message hidden">복사 완료!</span>
                                      </div>
                                     <div class="w-full pt-4 border-t text-sm">
                                         <div class="flex justify-between"><span class="text-gray-500">대출 원금</span><span id="loanResultPrincipal" class="font-semibold text-gray-700">0 원</span></div>
                                         <div class="flex justify-between mt-2"><span class="text-gray-500">총 이자</span><span id="loanResultInterest" class="font-semibold text-gray-700">0 원</span></div>
                                         <div class="flex justify-between mt-2"><span class="text-gray-500">총 상환금액</span><span id="loanResultGrandTotal" class="font-semibold text-red-500">0 원</span></div>
                                     </div>
                                     <div id="loanErrorText" class="text-red-500 font-semibold pt-2"></div>
                                 </div>
                             </div>
                        </div>

                        <!-- 학점 계산기 -->
                        <div id="gpaCalculator" class="hidden">
                            <div class="space-y-4">
                                <div id="gpaRowsContainer">
                                    <!-- Dynamic rows will be inserted here -->
                                </div>
                                <div class="flex justify-between items-center mt-4">
                                    <button id="addGpaRowBtn" class="bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors">과목 추가</button>
                                    <div class="flex gap-4">
                                        <button data-calculator="gpa" class="reset-btn bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors">초기화</button>
                                        <button id="gpaCalculateBtn" class="bg-teal-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-600 transition-colors">계산하기</button>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-8 bg-gray-50 rounded-lg p-6 text-center">
                                <p class="text-gray-600">나의 평균 학점은</p>
                                <div class="result-container">
                                    <div id="gpaResultText" class="text-4xl sm:text-5xl font-bold my-4 text-gray-800">0.00 / 4.5</div>
                                     <button id="copyGpaBtn" class="copy-btn" title="결과 복사">
                                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                                    </button>
                                    <span id="copyGpaMsg" class="copy-message hidden">복사 완료!</span>
                                </div>
                                <div id="gpaErrorText" class="text-red-500 font-semibold mt-2"></div>
                            </div>
                             <div class="coupang-banner">
                                <a href="https://link.coupang.com/a/cNQaby" target="_blank" referrerpolicy="unsafe-url"><img src="https://ads-partners.coupang.com/banners/321206?subId=&traceId=V0-301-bae0f72e5e59e45f-I321206&w=728&h=90" alt=""></a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SEO Content Section -->
                <div class="mt-8 bg-white rounded-2xl shadow-lg p-6 sm:p-8 info-section">
                    <div id="cryptoInfo" class="info-content hidden">
                        <h3>암호화폐 투자 전 알아둘 점</h3>
                        <ul class="space-y-5 text-sm">
                            <li><strong class="block font-semibold text-gray-800">높은 변동성</strong><p class="mt-1 text-gray-600">암호화폐는 주식 등 전통 자산에 비해 가격 변동성이 매우 큽니다. 시세가 급등락할 수 있으므로 투자 시 높은 위험이 따른다는 점을 반드시 인지해야 합니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">거래소 수수료</strong><p class="mt-1 text-gray-600">암호화폐를 거래소에서 매매할 때는 거래 수수료가 발생하며, 개인 지갑으로 전송할 때는 네트워크 수수료(가스비)가 추가로 발생할 수 있습니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">시세 정보 출처</strong><p class="mt-1 text-gray-600">본 계산기는 CoinGecko API를 통해 제공되는 실시간 국제 시세 데이터를 사용합니다. 실제 이용하는 국내외 거래소의 시세와는 약간의 차이가 있을 수 있습니다.</p></li>
                        </ul>
                    </div>
                    <div id="exchangeRateInfo" class="info-content hidden">
                        <h3>환율 정보 알아보기</h3>
                        <ul class="space-y-5 text-sm">
                            <li><strong class="block font-semibold text-gray-800">환율이란?</strong><p class="mt-1 text-gray-600">한 나라의 통화(돈)를 다른 나라의 통화와 교환할 때 적용되는 비율을 의미합니다. 환율은 외환 시장의 수요와 공급에 따라 계속해서 변동합니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">실시간 환율 vs 은행 고시 환율</strong><p class="mt-1 text-gray-600">본 계산기에서 제공하는 환율은 국제 외환 시장의 실시간 데이터입니다. 은행에서 환전할 때 적용되는 '고시 환율'은 실시간 환율에 수수료가 포함되어 있으므로 약간의 차이가 발생할 수 있습니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">환전 수수료 우대</strong><p class="mt-1 text-gray-600">주거래 은행이나 모바일 앱을 통해 환전할 경우 환전 수수료 우대(할인) 혜택을 받을 수 있습니다. 주요 통화(달러, 엔, 유로)는 보통 80~90%까지 우대받을 수 있으니 꼭 확인해보세요.</p></li>
                        </ul>
                    </div>
                    <div id="ageInfo" class="info-content hidden">
                        <h3>만 나이 계산법 알아보기</h3>
                        <ul class="space-y-5 text-sm">
                            <li><strong class="block font-semibold text-gray-800">만 나이란?</strong><p class="mt-1 text-gray-600">출생일을 기준으로 0살로 시작하여, 생일이 지날 때마다 1살씩 더하는 국제 표준 나이 계산법입니다. 2023년 6월 28일부터 대한민국에서도 법적, 사회적 나이 계산법이 '만 나이'로 통일되었습니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">간단 계산법</strong><p class="mt-1 text-gray-600">올해 생일이 지났다면: <span class="font-bold text-blue-600">[현재 연도] - [출생 연도]</span><br>올해 생일이 지나지 않았다면: <span class="font-bold text-red-600">[현재 연도] - [출생 연도] - 1</span></p></li>
                            <li><strong class="block font-semibold text-gray-800">언제 사용할까요?</strong><p class="mt-1 text-gray-600">이제부터는 법령, 계약, 공문서 등 모든 공식적인 서류와 일상생활에서 '나이'를 언급할 때는 특별한 규정이 없는 한 '만 나이'를 의미합니다. (예: 선거권, 연금 수급, 정년 등)</p></li>
                        </ul>
                    </div>
                     <div id="salaryInfo" class="info-content hidden">
                        <h3>2025년 연봉 실수령액 계산 기준</h3>
                        <ul class="space-y-5 text-sm">
                             <li><strong class="block font-semibold text-gray-800">4대 보험 요율 (근로자 부담분 기준)</strong>
                                 <p class="mt-1 text-gray-600">
                                     - 국민연금: 과세소득의 <span class="font-bold text-indigo-600">4.5%</span> (월 상한액 265,500원)<br>
                                     - 건강보험: 보수월액의 <span class="font-bold text-indigo-600">3.545%</span><br>
                                     - 장기요양보험: 건강보험료의 <span class="font-bold text-indigo-600">12.95%</span><br>
                                     - 고용보험: 과세소득의 <span class="font-bold text-indigo-600">0.9%</span>
                                 </p>
                            </li>
                             <li><strong class="block font-semibold text-gray-800">근로소득세 (소득세)</strong><p class="mt-1 text-gray-600">국세청의 '근로소득 간이세액표'에 따라 월 급여와 공제대상 가족 수(부양가족, 20세 이하 자녀)를 기준으로 정해진 세금을 원천징수합니다.</p></li>
                             <li><strong class="block font-semibold text-gray-800">지방소득세</strong><p class="mt-1 text-gray-600">위에서 계산된 근로소득세의 <span class="font-bold text-indigo-600">10%</span>가 지방소득세로 추가 공제됩니다.</p></li>
                             <li><strong class="block font-semibold text-gray-800">참고 사항</strong><p class="mt-1 text-gray-600">본 계산기는 비과세 소득(예: 식대, 차량유지비 등)을 고려하지 않은 결과이며, 실제 수령액은 개인의 조건에 따라 다소 차이가 있을 수 있습니다.</p></li>
                        </ul>
                    </div>
                    <div id="commissionInfo" class="info-content">
                        <h3>2025년 부동산 중개보수 요율표 (주택 기준)</h3>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                            <div class="border rounded-lg p-4 bg-blue-50">
                                <h4 class="text-lg font-bold text-blue-800 mb-4 text-center">매매 / 교환</h4>
                                <div class="space-y-3">
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">5천만원 미만</p><p class="text-right"><span class="font-bold text-blue-600">0.6%</span> (한도 25만원)</p></div>
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">5천만원 ~ 2억원 미만</p><p class="text-right"><span class="font-bold text-blue-600">0.5%</span> (한도 80만원)</p></div>
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">2억원 ~ 9억원 미만</p><p class="text-right font-bold text-blue-600">0.4%</p></div>
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">9억원 ~ 12억원 미만</p><p class="text-right font-bold text-blue-600">0.5%</p></div>
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">12억원 ~ 15억원 미만</p><p class="text-right font-bold text-blue-600">0.6%</p></div>
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">15억원 이상</p><p class="text-right font-bold text-blue-600">0.7%</p></div>
                                </div>
                            </div>
                            <div class="border rounded-lg p-4 bg-green-50">
                                <h4 class="text-lg font-bold text-green-800 mb-4 text-center">임대차 등 (전/월세)</h4>
                                <div class="space-y-3">
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">5천만원 미만</p><p class="text-right"><span class="font-bold text-green-600">0.5%</span> (한도 20만원)</p></div>
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">5천만원 ~ 1억원 미만</p><p class="text-right"><span class="font-bold text-green-600">0.4%</span> (한도 30만원)</p></div>
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">1억원 ~ 6억원 미만</p><p class="text-right font-bold text-green-600">0.3%</p></div>
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">6억원 ~ 12억원 미만</p><p class="text-right font-bold text-green-600">0.4%</p></div>
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">12억원 ~ 15억원 미만</p><p class="text-right font-bold text-green-600">0.5%</p></div>
                                     <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">15억원 이상</p><p class="text-right font-bold text-green-600">0.6%</p></div>
                                </div>
                            </div>
                        </div>
                        
                        <h3 class="mt-8">부동산 중개보수 관련 Tip</h3>
                        <ul class="space-y-5 text-sm">
                            <li><strong class="block font-semibold text-gray-800">VAT(부가가치세) 10%는 별도입니다.</strong><p class="mt-1 text-gray-600">계산된 금액에 추가로 부과될 수 있습니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">법정 '상한' 요율임을 기억하세요.</strong><p class="mt-1 text-gray-600">실제 중개보수는 법에서 정한 상한선 내에서 공인중개사와 협의하여 결정할 수 있습니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">과세 유형을 확인하세요.</strong><p class="mt-1 text-gray-600">중개사가 간이과세자인지 일반과세자인지에 따라 VAT 부과 여부나 비율이 달라질 수 있으니, 계약 전 미리 확인하는 것이 좋습니다.</p></li>
                        </ul>
                    </div>
                    <div id="interestInfo" class="info-content hidden">
                        <h3>예/적금 이자 관련 핵심 용어</h3>
                        <ul class="space-y-5 text-sm">
                            <li><strong class="block font-semibold text-gray-800">단리</strong><p class="mt-1 text-gray-600">원금에 대해서만 약정된 이율과 기간을 적용하여 이자를 계산하는 가장 기본적인 방식입니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">복리</strong><p class="mt-1 text-gray-600">발생한 이자를 원금에 더한 금액(원리금)을 새로운 원금으로 보고 다시 이자를 계산하는 방식으로, 시간이 지날수록 이자가 눈덩이처럼 불어나는 효과가 있습니다. '이자의 이자'가 붙는 마법이죠.</p></li>
                            <li><strong class="block font-semibold text-gray-800">일반과세 (15.4%)</strong><p class="mt-1 text-gray-600">금융상품으로 발생한 이자 소득에 대해 부과되는 세금입니다. (소득세 14% + 지방소득세 1.4%)</p></li>
                             <li><strong class="block font-semibold text-gray-800">비과세 종합저축</strong><p class="mt-1 text-gray-600">만 65세 이상 등 특정 조건을 만족하면 가입할 수 있는 상품으로, 이자 소득에 세금을 부과하지 않아 절세에 매우 유리합니다.</p></li>
                        </ul>
                    </div>
                    <div id="robuxInfo" class="info-content hidden">
                        <h3>로벅스(Robux) 저렴하게 구매하는 Tip</h3>
                        <ul class="space-y-5 text-sm">
                            <li><strong class="block font-semibold text-gray-800">플랫폼별 가격 비교는 필수</strong><p class="mt-1 text-gray-600">일반적으로 모바일 앱(인앱결제)을 통해 구매하는 것보다 PC/웹사이트에서 직접 구매하는 것이 수수료가 없어 더 저렴합니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">로블록스 프리미엄 활용</strong><p class="mt-1 text-gray-600">월정액 구독 서비스인 '프리미엄'에 가입하면 매월 일정량의 로벅스를 보너스로 지급받고, 추가 구매 시 10% 더 많은 로벅스를 받을 수 있어 장기적으로 이득입니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">기프트 카드 구매</strong><p class="mt-1 text-gray-600">각종 온라인 쇼핑몰에서 '로블록스 기프트 카드'를 검색해 보세요. 카드사 할인이나 쇼핑몰 쿠폰을 적용하면 공식 가격보다 저렴하게 구매할 수 있는 경우가 많습니다.</p></li>
                        </ul>
                    </div>
                    <div id="bmiInfo" class="info-content hidden">
                        <h3>BMI(체질량지수)란?</h3>
                        <ul class="space-y-5 text-sm">
                            <li><strong class="block font-semibold text-gray-800">정의</strong><p class="mt-1 text-gray-600">키와 몸무게를 이용하여 지방의 양을 추정하는 비만 측정법입니다. 간편하게 자신의 비만도를 파악할 수 있는 지표로 널리 사용됩니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">계산법</strong><p class="mt-1 text-gray-600">몸무게(kg) ÷ (키(m) × 키(m))</p></li>
                            <li><strong class="block font-semibold text-gray-800">결과 기준 (대한비만학회)</strong>
                                <ul class="list-disc list-inside mt-1 text-gray-600">
                                    <li><span class="font-bold text-blue-600">18.5 미만:</span> 저체중</li>
                                    <li><span class="font-bold text-green-600">18.5 ~ 22.9:</span> 정상</li>
                                    <li><span class="font-bold text-yellow-600">23.0 ~ 24.9:</span> 과체중</li>
                                    <li><span class="font-bold text-orange-600">25.0 ~ 29.9:</span> 1단계 비만</li>
                                    <li><span class="font-bold text-red-600">30.0 이상:</span> 2단계 이상 비만</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div id="ddayInfo" class="info-content hidden">
                        <h3>D-Day 계산기 활용법</h3>
                        <ul class="space-y-5 text-sm">
                            <li><strong class="block font-semibold text-gray-800">D-Day?</strong><p class="mt-1 text-gray-600">시험, 기념일, 여행 등 중요한 목표 날짜(Date)를 정해두고, 그날까지 남은 날짜(Day)를 세는 방법입니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">날짜 계산 기준</strong><p class="mt-1 text-gray-600">오늘(계산하는 당일)은 포함하지 않고 계산합니다. 예를 들어 내일이 D-Day라면 'D-1'로 표시됩니다. 목표 날짜 당일은 'D-Day'가 됩니다.</p></li>
                             <li><strong class="block font-semibold text-gray-800">과거 날짜</strong><p class="mt-1 text-gray-600">이미 지난 날짜를 선택하면, 그날로부터 며칠이 지났는지 'D+Day' 형식으로 표시해 줍니다. (예: D+7)</p></li>
                        </ul>
                    </div>
                    <div id="loanInfo" class="info-content hidden">
                        <h3>대출 이자 상환 방식</h3>
                        <ul class="space-y-5 text-sm">
                            <li><strong class="block font-semibold text-gray-800">원리금 균등분할상환</strong><p class="mt-1 text-gray-600">대출 기간 동안 매월 원금과 이자를 합쳐 동일한 금액을 상환하는 방식입니다. 본 계산기는 이 방식을 기준으로 합니다. 매달 상환액이 일정하여 자금 계획을 세우기 편리하다는 장점이 있습니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">원금 균등분할상환</strong><p class="mt-1 text-gray-600">매월 동일한 원금을 상환하고, 남은 원금에 대한 이자를 납부하는 방식입니다. 초기 상환 부담은 크지만, 총 이자 금액은 원리금 균등방식보다 적습니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">만기일시상환</strong><p class="mt-1 text-gray-600">대출 기간 동안에는 이자만 납부하고, 만기일에 원금 전액을 상환하는 방식입니다. 매달 상환 부담은 적지만 총 이자 부담이 가장 큽니다.</p></li>
                        </ul>
                    </div>
                     <div id="gpaInfo" class="info-content hidden">
                        <h3>학점 계산 관련 Tip</h3>
                        <ul class="space-y-5 text-sm">
                            <li><strong class="block font-semibold text-gray-800">학점(Credit)이란?</strong><p class="mt-1 text-gray-600">대학에서 한 과목을 얼마나 비중 있게 이수했는지를 나타내는 단위입니다. 보통 일주일에 한 시간 수업을 한 학기 동안 들으면 1학점이 됩니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">평점(Grade Point Average) 계산법</strong><p class="mt-1 text-gray-600">'(각 과목의 학점 × 과목 평점)의 총합'을 '총 신청 학점'으로 나누어 계산합니다. 이 계산기는 일반적인 4.5 만점 기준으로 계산됩니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">P/F 과목</strong><p class="mt-1 text-gray-600">Pass(합격) 또는 Fail(불합격)로만 평가되는 과목은 보통 평점 계산에서 제외됩니다. 계산 시 'P/F 과목'을 체크하면 해당 과목은 총 학점에서만 포함되고 평점 계산에서는 제외됩니다.</p></li>
                        </ul>
                    </div>
                </div>
            </div>
        </main>
    </div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // --- Helper Functions ---
    const formatNumber = (num) => {
        if (num === null || num === undefined) return '';
        return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }
    const unformatNumber = (str) => {
        if (str === null || str === undefined) return '';
        return str.toString().replace(/,/g, '');
    }

    function copyToClipboard(text, messageId) {
        if (!text || text === '0' || text.includes('0 원') || text.includes('D-Day') || text === '0.00 / 4.5' || text.includes('생년월일')) return;
        const tempInput = document.createElement('input');
        tempInput.value = text;
        document.body.appendChild(tempInput);
        tempInput.select();
        document.execCommand('copy');
        document.body.removeChild(tempInput);

        const messageEl = document.getElementById(messageId);
        if (messageEl) {
            messageEl.classList.remove('hidden');
            setTimeout(() => {
                messageEl.classList.add('hidden');
            }, 1500);
        }
    }

    // --- Mobile Sidebar Logic ---
    const menuButton = document.getElementById('menuButton');
    const closeButton = document.getElementById('closeButton');
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('overlay');
    function openSidebar() { sidebar.classList.remove('-translate-x-full'); overlay.classList.remove('hidden'); }
    function closeSidebar() { sidebar.classList.add('-translate-x-full'); overlay.classList.add('hidden'); }
    menuButton.addEventListener('click', openSidebar);
    closeButton.addEventListener('click', closeSidebar);
    overlay.addEventListener('click', closeSidebar);

    // --- Tab and Calculator Display Logic ---
    const sidebarLinks = document.querySelectorAll('.tab-link-item');
    const desktopTitle = document.getElementById('currentCalculatorTitle');
    const mobileTitle = document.getElementById('currentCalculatorTitleMobile');
    const calculatorTitles = {
        crypto: '주요 코인 환율', exchangeRate: '세계 환율', age: '만 나이', salary: '연봉 실수령액', commission: '부동산 중개보수', interest: '예/적금 이자', robux: '로벅스 환율', bmi: 'BMI (비만도)', dday: 'D-Day', loan: '대출 이자', gpa: '학점'
    };
    const calculators = {
        crypto: document.getElementById('cryptoCalculator'), exchangeRate: document.getElementById('exchangeRateCalculator'), age: document.getElementById('ageCalculator'), salary: document.getElementById('salaryCalculator'), commission: document.getElementById('commissionCalculator'), interest: document.getElementById('interestCalculator'), robux: document.getElementById('robuxCalculator'), bmi: document.getElementById('bmiCalculator'), dday: document.getElementById('ddayCalculator'), loan: document.getElementById('loanCalculator'), gpa: document.getElementById('gpaCalculator')
    };
    const infoSections = {
        crypto: document.getElementById('cryptoInfo'), exchangeRate: document.getElementById('exchangeRateInfo'), age: document.getElementById('ageInfo'), salary: document.getElementById('salaryInfo'), commission: document.getElementById('commissionInfo'), interest: document.getElementById('interestInfo'), robux: document.getElementById('robuxInfo'), bmi: document.getElementById('bmiInfo'), dday: document.getElementById('ddayInfo'), loan: document.getElementById('loanInfo'), gpa: document.getElementById('gpaInfo')
    };

    function showTab(tabName) {
        const title = calculatorTitles[tabName] || '';
        if(desktopTitle) desktopTitle.textContent = title;
        if(mobileTitle) mobileTitle.textContent = title;
        Object.values(calculators).forEach(calc => calc && calc.classList.add('hidden'));
        Object.values(infoSections).forEach(info => info && info.classList.add('hidden'));
        if (calculators[tabName]) calculators[tabName].classList.remove('hidden');
        if (infoSections[tabName]) infoSections[tabName].classList.remove('hidden');
        sidebarLinks.forEach(link => {
            link.classList.remove('active-nav-link');
            if (link.dataset.tabLink === tabName) { link.classList.add('active-nav-link'); }
        });
        if (window.innerWidth < 1024) { closeSidebar(); }
    }

    sidebarLinks.forEach(link => {
        link.addEventListener('click', e => {
            e.preventDefault();
            const tabName = e.currentTarget.dataset.tabLink;
            window.location.hash = tabName;
            showTab(tabName);
        });
    });

    // --- Auto-formatting number inputs ---
    document.querySelectorAll('input[type="text"]').forEach(input => {
        const idsToFormat = ['cryptoKrw', 'krw', 'annualSalary', 'price', 'deposit', 'monthlyRent', 'principal', 'loanPrincipal', 'krwInputRobux'];
        if(idsToFormat.includes(input.id)) {
            input.addEventListener('input', (e) => {
                const unformatted = unformatNumber(e.target.value);
                if (unformatted === '' || (!isNaN(parseFloat(unformatted)) && isFinite(unformatted))) {
                     e.target.value = formatNumber(unformatted);
                } else {
                    e.target.value = e.target.value.slice(0, -1);
                }
            });
        }
    });

    // --- General Reset Button Logic ---
    document.querySelectorAll('.reset-btn').forEach(button => {
        button.addEventListener('click', (e) => {
            const calculatorId = e.target.dataset.calculator;
            const form = document.getElementById(`${calculatorId}Calculator`);
            if (form) {
                form.querySelectorAll('input[type="text"], input[type="number"], input[type="date"]').forEach(input => { input.value = ''; });
                // Reset specific result displays
                 if(calculatorId === 'age') {
                    document.getElementById('ageResultText').textContent = '0 세';
                    document.getElementById('ageResultDetails').textContent = '생년월일을 입력해주세요.';
                } else if (calculatorId === 'salary') {
                    document.getElementById('salaryResultNet').textContent = '0 원';
                    document.getElementById('salaryResultGross').textContent = '0 원';
                    document.getElementById('salaryResultDeductions').textContent = '0 원';
                }
                 else if (calculatorId === 'commission') {
                    document.getElementById('commissionResultText').textContent = '0 원';
                    document.getElementById('commissionResultDetails').textContent = '계산 버튼을 눌러주세요.';
                }
                 else if (calculatorId === 'interest') {
                    document.getElementById('interestResultTotal').textContent = '0 원';
                }
                 else if (calculatorId === 'bmi') {
                    document.getElementById('bmiResultText').textContent = '0';
                    document.getElementById('bmiResultDetails').textContent = '값을 입력해주세요.';
                }
                 else if (calculatorId === 'dday') {
                    document.getElementById('ddayResultText').textContent = 'D-Day';
                    document.getElementById('ddayResultDetails').textContent = '목표 날짜를 선택해주세요.';
                }
                 else if (calculatorId === 'loan') {
                    document.getElementById('loanResultTotal').textContent = '0 원';
                }
            }
            if(calculatorId === 'gpa'){
                const container = document.getElementById('gpaRowsContainer');
                container.innerHTML = '';
                addGpaRow(); addGpaRow(); addGpaRow();
                document.getElementById('gpaResultText').textContent = '0.00 / 4.5';
                document.getElementById('gpaErrorText').textContent = '';
            }
        });
    });
    
    // --- SETUP ALL CALCULATORS ---
    
    // 1. Crypto Calculator
    function setupCryptoCalculator() {
        const cryptoInputs = document.querySelectorAll('.crypto-input');
        const cryptoRateInfoText = document.getElementById('cryptoRateInfoText');
        let cryptoRates = {};
        let isCryptoCalculating = false;

        async function fetchCryptoRates() {
            try {
                const coin_ids = 'bitcoin,ethereum,solana,binancecoin,ripple,dogecoin,cardano,the-open-network,avalanche-2,polkadot';
                const response = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${coin_ids}&vs_currencies=usd,krw`);
                if (!response.ok) throw new Error('Network response was not ok');
                cryptoRates = await response.json();
                const btcPriceKrw = formatNumber(Math.round(cryptoRates.bitcoin.krw));
                cryptoRateInfoText.textContent = `실시간 시세 적용 중 (예: 1 BTC = ${btcPriceKrw}원)`;
            } catch (error) {
                console.error("코인 시세 정보 가져오기 실패:", error);
                cryptoRateInfoText.textContent = `실시간 코인 시세 로딩에 실패했습니다. 잠시 후 다시 시도해주세요.`;
            }
        }

        function updateCryptoCalculations(sourceAsset) {
            if (isCryptoCalculating || Object.keys(cryptoRates).length === 0) return;
            isCryptoCalculating = true;

            const sourceInput = document.querySelector(`.crypto-input[data-asset="${sourceAsset}"]`);
            const sourceValue = parseFloat(unformatNumber(sourceInput.value));
            let valueInUsd = 0;
            
            const precisionMap = { KRW: 0, USD: 2, bitcoin: 8, ethereum: 8, solana: 4, binancecoin: 4, ripple: 4, dogecoin: 4, cardano: 4, 'the-open-network': 4, 'avalanche-2': 4, polkadot: 4 };

            if (!isNaN(sourceValue) && sourceInput.value !== '') {
                if (sourceAsset === 'KRW') { valueInUsd = sourceValue / cryptoRates.bitcoin.krw * cryptoRates.bitcoin.usd; } 
                else if (sourceAsset === 'USD') { valueInUsd = sourceValue; } 
                else {
                    if (cryptoRates[sourceAsset]) { valueInUsd = sourceValue * cryptoRates[sourceAsset].usd; } 
                    else { isCryptoCalculating = false; return; }
                }

                cryptoInputs.forEach(input => {
                    const targetAsset = input.dataset.asset;
                    if (targetAsset !== sourceAsset) {
                        let targetValue;
                        if (targetAsset === 'KRW') { targetValue = valueInUsd / cryptoRates.bitcoin.usd * cryptoRates.bitcoin.krw; } 
                        else if (targetAsset === 'USD') { targetValue = valueInUsd; } 
                        else {
                            if (cryptoRates[targetAsset]) { targetValue = valueInUsd / cryptoRates[targetAsset].usd; } 
                            else { return; }
                        }

                        const precision = precisionMap[targetAsset] ?? 2;
                        if(targetAsset === 'KRW') {
                            input.value = formatNumber(Math.round(targetValue));
                        } else {
                            input.value = targetValue.toFixed(precision);
                        }
                    }
                });
            } else {
                cryptoInputs.forEach(input => { if (input !== sourceInput) input.value = ''; });
            }
            isCryptoCalculating = false;
        }
        
        cryptoInputs.forEach(input => {
            input.addEventListener('input', () => updateCryptoCalculations(input.dataset.asset));
        });
        
        fetchCryptoRates();
    }
    
    // 2. Exchange Rate Calculator
    function setupExchangeRateCalculator() {
        const currencyInputs = document.querySelectorAll('.currency-input');
        const exchangeRateInfoText = document.getElementById('exchangeRateInfoText');
        let exchangeRates = {};
        let isExchangeCalculating = false;

        async function fetchExchangeRates() {
            try {
                const response = await fetch('https://open.er-api.com/v6/latest/USD');
                if (!response.ok) throw new Error('Network response was not ok');
                const data = await response.json();
                exchangeRates = data.rates;
                exchangeRates['USD'] = 1;
                const krwRate = formatNumber(exchangeRates['KRW'].toFixed(2));
                const date = new Date(data.time_last_update_utc).toLocaleString('ko-KR');
                exchangeRateInfoText.textContent = `기준: 1달러 = ${krwRate}원 (업데이트: ${date})`;
            } catch (error) {
                console.error("환율 정보 가져오기 실패:", error);
                exchangeRateInfoText.textContent = `실시간 환율 로딩에 실패했습니다. 잠시 후 다시 시도해주세요.`;
            }
        }

        function updateExchangeCalculations(sourceCurrency) {
            if (isExchangeCalculating || Object.keys(exchangeRates).length === 0) return;
            isExchangeCalculating = true;

            const sourceInput = document.querySelector(`.currency-input[data-currency="${sourceCurrency}"]`);
            const sourceValue = parseFloat(unformatNumber(sourceInput.value));

            if (!isNaN(sourceValue) && sourceInput.value !== '') {
                const valueInUsd = sourceValue / exchangeRates[sourceCurrency];
                currencyInputs.forEach(input => {
                    const targetCurrency = input.dataset.currency;
                    if (targetCurrency !== sourceCurrency) {
                        const targetValue = valueInUsd * exchangeRates[targetCurrency];
                        if (targetCurrency === 'JPY') { input.value = Math.round(targetValue); } 
                        else if (targetCurrency === 'KRW') { input.value = formatNumber(targetValue.toFixed(0));}
                        else { input.value = targetValue.toFixed(2); }
                    }
                });
            } else {
                currencyInputs.forEach(input => { if (input !== sourceInput) input.value = ''; });
            }
            isExchangeCalculating = false;
        }

        currencyInputs.forEach(input => {
            input.addEventListener('input', () => updateExchangeCalculations(input.dataset.currency));
        });
        
        fetchExchangeRates();
    }
    
    // 3. Age Calculator
    function setupAgeCalculator() {
        document.getElementById('ageCalculateBtn').addEventListener('click', () => {
            const birthDateInput = document.getElementById('birthDate');
            const ageResultText = document.getElementById('ageResultText');
            const ageResultDetails = document.getElementById('ageResultDetails');
            if (!birthDateInput.value) { ageResultDetails.textContent = "생년월일을 선택해주세요."; return; }
            const birthDate = new Date(birthDateInput.value);
            const today = new Date();
            let age = today.getFullYear() - birthDate.getFullYear();
            const monthDiff = today.getMonth() - birthDate.getMonth();
            if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) { age--; }
            ageResultText.textContent = `${age} 세`;
            ageResultDetails.textContent = `오늘 날짜: ${today.getFullYear()}년 ${today.getMonth() + 1}월 ${today.getDate()}일`;
        });
        document.getElementById('copyAgeBtn').addEventListener('click', () => copyToClipboard(document.getElementById('ageResultText').textContent, 'copyAgeMsg'));
    }

    // 4. Salary Calculator
    function setupSalaryCalculator() {
        const calculateBtn = document.getElementById('salaryCalculateBtn');
        calculateBtn.addEventListener('click', () => {
            const annualSalary = Number(unformatNumber(document.getElementById('annualSalary').value));
            const severancePay = document.querySelector('input[name="severancePay"]:checked').value;
            let dependents = Number(document.getElementById('dependents').value);
            let childrenUnder20 = Number(document.getElementById('childrenUnder20').value);
            const errorText = document.getElementById('salaryErrorText');
            
            if(annualSalary <= 0) { errorText.textContent = "연봉을 정확히 입력해주세요."; return; }
            errorText.textContent = "";

            const monthlySalary = Math.round(annualSalary / (severancePay === 'include' ? 13 : 12));
            const pensionCap = 5900000;
            const monthlyPensionBase = Math.min(monthlySalary, pensionCap);
            const nationalPension = Math.floor(monthlyPensionBase * 0.045 / 10) * 10;
            const healthInsurance = Math.floor(monthlySalary * 0.03545 / 10) * 10;
            const longTermCare = Math.floor(healthInsurance * 0.1295 / 10) * 10;
            const employmentInsurance = Math.floor(monthlySalary * 0.009 / 10) * 10;
            const totalDependents = dependents + childrenUnder20;
            const incomeTax = calculateIncomeTax(monthlySalary, totalDependents);
            const localTax = Math.floor(incomeTax * 0.1 / 10) * 10;

            const totalDeductions = nationalPension + healthInsurance + longTermCare + employmentInsurance + incomeTax + localTax;
            const netIncome = monthlySalary - totalDeductions;

            document.getElementById('salaryResultNet').textContent = `${formatNumber(netIncome)} 원`;
            document.getElementById('salaryResultGross').textContent = `${formatNumber(monthlySalary)} 원`;
            document.getElementById('salaryResultDeductions').textContent = `- ${formatNumber(totalDeductions)} 원`;
            document.getElementById('salaryDeductPension').textContent = `- ${formatNumber(nationalPension)} 원`;
            document.getElementById('salaryDeductHealth').textContent = `- ${formatNumber(healthInsurance)} 원`;
            document.getElementById('salaryDeductCare').textContent = `- ${formatNumber(longTermCare)} 원`;
            document.getElementById('salaryDeductEmployment').textContent = `- ${formatNumber(employmentInsurance)} 원`;
            document.getElementById('salaryDeductIncomeTax').textContent = `- ${formatNumber(incomeTax)} 원`;
            document.getElementById('salaryDeductLocalTax').textContent = `- ${formatNumber(localTax)} 원`;
        });
        document.getElementById('copySalaryBtn').addEventListener('click', () => copyToClipboard(document.getElementById('salaryResultNet').textContent, 'copySalaryMsg'));
    }
    function calculateIncomeTax(monthlySalary, dependents) {
        // Based on 2024 simplified tax table
        const taxTable = {
            1: [0,0,0,0,0,0,0,1630,6210,14360,24360,36240,50240,77240,105240,134240,163240,203240,243240,283240,323240,363240,403240,448240,493240,538240,583240,628240,673240,718240,763240,808240,853240,898240,943240,988240,1033240,1078240,1123240,1168240,1213240,1258240,1303240,1348240,1393240,1438240,1483240,1528240,1573240,1618240,1663240,1708240,1753240,1798240,1843240,1888240],
            2: [0,0,0,0,0,0,0,0,0,2980,10690,20690,32810,57810,83810,110810,137810,175310,212810,250310,287810,325310,362810,405310,447810,490310,532810,575310,617810,660310,702810,745310,787810,830310,872810,915310,957810,1000310,1042810,1085310,1127810,1170310,1212810,1255310,1297810,1340310,1382810,1425310,1467810,1510310,1552810,1595310,1637810,1680310,1722810,1765310],
            3: [0,0,0,0,0,0,0,0,0,0,4450,15070,38070,62070,87070,112070,147070,182070,217070,252070,287070,322070,362070,402070,442070,482070,522070,562070,602070,642070,682070,722070,762070,802070,842070,882070,922070,962070,1002070,1042070,1082070,1122070,1162070,1202070,1242070,1282070,1322070,1362070,1402070,1442070,1482070,1522070,1562070,1602070,1642070,1682070]
        };
        const salaryIndex = Math.floor(monthlySalary / 200000) - 7;
        const d = Math.max(1, Math.min(dependents, 11));
        const selectedTaxTable = taxTable[Math.min(d, 3)];
        if (monthlySalary < 1400000 || salaryIndex < 0 || salaryIndex >= selectedTaxTable.length) {
            if (monthlySalary > 8000000) { let tax = (monthlySalary * 0.24) - (d * 50000) - 520000; return Math.max(0, Math.floor(tax / 10) * 10); }
            return 0;
        }
        return selectedTaxTable[salaryIndex] || 0;
    }
    
    // 5. Commission Calculator
    function setupCommissionCalculator() {
        const tradeTypeContainer = document.getElementById('tradeTypeContainer');
        const priceContainer = document.getElementById('priceContainer');
        const rentContainer = document.getElementById('rentContainer');
        tradeTypeContainer.addEventListener('change', (e) => {
            if (e.target.name === 'tradeType') {
                if (e.target.value === '임대차') { priceContainer.classList.add('hidden'); rentContainer.classList.remove('hidden'); } 
                else { priceContainer.classList.remove('hidden'); rentContainer.classList.add('hidden'); }
            }
        });
        document.getElementById('commissionCalculateBtn').addEventListener('click', () => {
            const tradeType = document.querySelector('input[name="tradeType"]:checked').value;
            const propertyType = document.querySelector('input[name="propertyType"]:checked').value;
            let price = (tradeType === '매매') ? Number(unformatNumber(document.getElementById('price').value)) : Number(unformatNumber(document.getElementById('deposit').value));
            let monthlyRent = (tradeType === '매매') ? 0 : Number(unformatNumber(document.getElementById('monthlyRent').value));
            const errorText = document.getElementById('commissionErrorText');
            if ((tradeType === '매매' && price <= 0) || (tradeType === '임대차' && (price < 0 || monthlyRent < 0 || (price === 0 && monthlyRent === 0)))) {
                errorText.textContent = '금액을 정확히 입력해주세요.'; return;
            }
            errorText.textContent = '';
            
            let dealAmount = price;
            if (tradeType === '임대차') { const convertedPrice = price + (monthlyRent * 100); dealAmount = (convertedPrice < 50000000) ? price + (monthlyRent * 70) : convertedPrice; }
            let rate = 0; let limit = Infinity;
            if (propertyType === '주택') {
                if (tradeType === '매매') {
                    if (dealAmount < 50000000) { rate = 0.006; limit = 250000; }
                    else if (dealAmount < 200000000) { rate = 0.005; limit = 800000; }
                    else if (dealAmount < 900000000) { rate = 0.004; } else if (dealAmount < 1200000000) { rate = 0.005; }
                    else if (dealAmount < 1500000000) { rate = 0.006; } else { rate = 0.007; }
                } else { // 임대차
                    if (dealAmount < 50000000) { rate = 0.005; limit = 200000; }
                    else if (dealAmount < 100000000) { rate = 0.004; limit = 300000; }
                    else if (dealAmount < 600000000) { rate = 0.003; } else if (dealAmount < 1200000000) { rate = 0.004; }
                    else if (dealAmount < 1500000000) { rate = 0.005; } else { rate = 0.006; }
                }
            } else if (propertyType === '오피스텔') { rate = (tradeType === '매매') ? 0.005 : 0.004; } 
            else { rate = 0.009; }
            
            const finalFee = Math.min(dealAmount * rate, limit);
            document.getElementById('commissionResultText').textContent = `${formatNumber(Math.floor(finalFee))} 원`;
            let details = `적용 요율: ${(rate * 100).toFixed(2)}%`;
            if (limit !== Infinity) { details += ` (한도액: ${formatNumber(limit)}원)`; }
            document.getElementById('commissionResultDetails').innerHTML = details + '<br>VAT 10%는 별도이며, 실제 보수는 협의를 통해 결정됩니다.';
        });
        document.getElementById('copyCommissionBtn').addEventListener('click', () => copyToClipboard(document.getElementById('commissionResultText').textContent, 'copyCommissionMsg'));
    }
    
    // 6. Interest Calculator
    function setupInterestCalculator() {
        document.getElementById('interestCalculateBtn').addEventListener('click', () => {
            const principal = Number(unformatNumber(document.getElementById('principal').value));
            const period = Number(document.getElementById('period').value);
            const annualRate = Number(document.getElementById('rate').value) / 100;
            const depositType = document.querySelector('input[name="depositType"]:checked').value;
            const taxType = document.querySelector('input[name="taxType"]:checked').value;
            const errorText = document.getElementById('interestErrorText');
            if (principal <= 0 || period <= 0 || annualRate <= 0) { errorText.textContent = "모든 값을 정확히 입력해주세요."; return; }
            errorText.textContent = "";

            let interestBeforeTax = (depositType === '단리') ? principal * annualRate * (period / 12) : principal * (Math.pow(1 + (annualRate / 12), period)) - principal;
            const tax = Math.floor(interestBeforeTax * (taxType === '일반' ? 0.154 : 0));
            const total = principal + interestBeforeTax - tax;
            document.getElementById('interestResultTotal').textContent = `${formatNumber(Math.floor(total))} 원`;
            document.getElementById('interestResultPrincipal').textContent = `${formatNumber(principal)} 원`;
            document.getElementById('interestResultBeforeTax').textContent = `${formatNumber(Math.floor(interestBeforeTax))} 원`;
            document.getElementById('interestResultTax').textContent = `- ${formatNumber(tax)} 원`;
        });
        document.getElementById('copyInterestBtn').addEventListener('click', () => copyToClipboard(document.getElementById('interestResultTotal').textContent, 'copyInterestMsg'));
    }
    
    // 7. Robux Calculator
    function setupRobuxCalculator() {
         const robuxInput = document.getElementById('robuxInput'); 
        const krwInput_robux = document.getElementById('krwInputRobux'); 
        const usdInput_robux = document.getElementById('usdInput');
        const robuxRateInfo = document.getElementById('robuxRateInfo'); 
        const robuxStandardInfo = document.getElementById('robuxStandardInfo');
        const platformSelector = document.getElementById('platformSelector'); 
        const PC_KRW_PER_ROBUX = 15000 / 1200;
        const MOBILE_KRW_PER_ROBUX = 7500 / 400; 
        let currentKrwPerRobux = PC_KRW_PER_ROBUX;
        let robux_USD_TO_KRW = 1380; // Default
        let isRobuxCalculating = false;

        async function fetchRobuxRate() {
            try {
                const response = await fetch('https://open.er-api.com/v6/latest/USD'); if (!response.ok) throw new Error('Network response was not ok');
                const data = await response.json(); robux_USD_TO_KRW = data.rates.KRW;
                robuxRateInfo.textContent = `현재 환율 적용 중: 1달러 = ${robux_USD_TO_KRW.toFixed(2)}원`;
            } catch (error) { console.error("환율 정보 가져오기 실패:", error); robuxRateInfo.textContent = `실시간 환율 로딩 실패. 예상 환율(1달러 = ${robux_USD_TO_KRW}원)을 적용합니다.`; }
        }
        
        function updateRobuxInfoText() {
            const selectedPlatform = platformSelector.querySelector('input[name="platform"]:checked').value;
            robuxStandardInfo.textContent = selectedPlatform === 'pc' ? '이 계산은 공식 PC/웹 구매가(1,200 R$ = 15,000원)를 기준으로 합니다.' : '이 계산은 공식 모바일 구매가(400 R$ = 7,500원)를 기준으로 합니다.';
        }
        
        platformSelector.addEventListener('change', (e) => {
            if (e.target.name === 'platform') {
                currentKrwPerRobux = e.target.value === 'pc' ? PC_KRW_PER_ROBUX : MOBILE_KRW_PER_ROBUX;
                updateRobuxInfoText();
                if (robuxInput.value) updateRobuxCalculations('robux');
                else if (krwInput_robux.value) updateRobuxCalculations('krw');
                else if (usdInput_robux.value) updateRobuxCalculations('usd');
            }
        });

        function updateRobuxCalculations(source) {
            if (isRobuxCalculating) return; isRobuxCalculating = true;
            const robux = parseFloat(robuxInput.value); const krw = parseFloat(unformatNumber(krwInput_robux.value)); const usd = parseFloat(usdInput_robux.value);
            if (source === 'robux') {
                if (!isNaN(robux) && robuxInput.value !== '') { const calculatedKrw = robux * currentKrwPerRobux; krwInput_robux.value = formatNumber(Math.round(calculatedKrw)); usdInput_robux.value = (calculatedKrw / robux_USD_TO_KRW).toFixed(2); } else { krwInput_robux.value = ''; usdInput_robux.value = ''; }
            } else if (source === 'krw') {
                if (!isNaN(krw) && krwInput_robux.value !== '') { robuxInput.value = Math.round(krw / currentKrwPerRobux); usdInput_robux.value = (krw / robux_USD_TO_KRW).toFixed(2); } else { robuxInput.value = ''; usdInput_robux.value = ''; }
            } else if (source === 'usd') {
                if (!isNaN(usd) && usdInput_robux.value !== '') { const calculatedKrw = usd * robux_USD_TO_KRW; krwInput_robux.value = formatNumber(Math.round(calculatedKrw)); robuxInput.value = Math.round(calculatedKrw / currentKrwPerRobux); } else { robuxInput.value = ''; krwInput_robux.value = ''; }
            }
            isRobuxCalculating = false;
        }
        
        robuxInput.addEventListener('input', () => updateRobuxCalculations('robux'));
        krwInput_robux.addEventListener('input', () => updateRobuxCalculations('krw'));
        usdInput_robux.addEventListener('input', () => updateRobuxCalculations('usd'));
        
        fetchRobuxRate().then(updateRobuxInfoText);
    }
    
    // 8. BMI Calculator
    function setupBmiCalculator() {
        document.getElementById('bmiCalculateBtn').addEventListener('click', () => {
            const height = parseFloat(document.getElementById('height').value);
            const weight = parseFloat(document.getElementById('weight').value);
            const resultText = document.getElementById('bmiResultText');
            const resultDetails = document.getElementById('bmiResultDetails');
            if (height > 0 && weight > 0) {
                const bmi = weight / ((height / 100) ** 2);
                resultText.textContent = bmi.toFixed(2);
                let category = '', colorClass = '';
                if (bmi < 18.5) { category = '저체중'; colorClass = 'text-blue-600'; }
                else if (bmi < 23) { category = '정상'; colorClass = 'text-green-600'; }
                else if (bmi < 25) { category = '과체중'; colorClass = 'text-yellow-600'; }
                else if (bmi < 30) { category = '1단계 비만'; colorClass = 'text-orange-600'; }
                else { category = '2단계 이상 비만'; colorClass = 'text-red-600'; }
                resultDetails.textContent = category;
                resultDetails.className = `text-lg font-semibold ${colorClass}`;
            } else {
                resultDetails.textContent = '키와 몸무게를 입력해주세요.';
                resultDetails.className = 'text-lg font-semibold text-blue-600';
            }
        });
        document.getElementById('copyBmiBtn').addEventListener('click', () => copyToClipboard(document.getElementById('bmiResultText').textContent, 'copyBmiMsg'));
    }

    // 9. D-Day Calculator
    function setupDdayCalculator() {
        document.getElementById('ddayCalculateBtn').addEventListener('click', () => {
            const ddayDateInput = document.getElementById('ddayDate');
            const ddayResultText = document.getElementById('ddayResultText');
            const ddayResultDetails = document.getElementById('ddayResultDetails');
            if (!ddayDateInput.value) { ddayResultDetails.textContent = "목표 날짜를 선택해주세요."; return; }
            const targetDate = new Date(ddayDateInput.value);
            const today = new Date();
            today.setHours(0,0,0,0);
            targetDate.setHours(0,0,0,0);
            const diffTime = targetDate - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

            if(diffDays === 0) { ddayResultText.textContent = "D-Day"; }
            else if (diffDays > 0) { ddayResultText.textContent = `D-${diffDays}`; }
            else { ddayResultText.textContent = `D+${-diffDays}`; }
            ddayResultDetails.textContent = `${targetDate.getFullYear()}년 ${targetDate.getMonth()+1}월 ${targetDate.getDate()}일`;
        });
        document.getElementById('copyDdayBtn').addEventListener('click', () => copyToClipboard(document.getElementById('ddayResultText').textContent, 'copyDdayMsg'));
    }

    // 10. Loan Calculator
    function setupLoanCalculator() {
        document.getElementById('loanCalculateBtn').addEventListener('click', () => {
            const principal = parseFloat(unformatNumber(document.getElementById('loanPrincipal').value));
            const years = parseFloat(document.getElementById('loanPeriod').value);
            const annualRate = parseFloat(document.getElementById('loanRate').value);
            const errorText = document.getElementById('loanErrorText');
            if(principal > 0 && years > 0 && annualRate > 0) {
                errorText.textContent = "";
                const monthlyRate = annualRate / 100 / 12;
                const months = years * 12;
                const monthlyPayment = principal * monthlyRate * (Math.pow(1 + monthlyRate, months)) / (Math.pow(1 + monthlyRate, months) - 1);
                const totalPayment = monthlyPayment * months;
                const totalInterest = totalPayment - principal;

                document.getElementById('loanResultTotal').textContent = `${formatNumber(Math.round(monthlyPayment))} 원`;
                document.getElementById('loanResultPrincipal').textContent = `${formatNumber(principal)} 원`;
                document.getElementById('loanResultInterest').textContent = `${formatNumber(Math.round(totalInterest))} 원`;
                document.getElementById('loanResultGrandTotal').textContent = `${formatNumber(Math.round(totalPayment))} 원`;
            } else {
                errorText.textContent = "모든 값을 정확히 입력해주세요.";
            }
        });
        document.getElementById('copyLoanBtn').addEventListener('click', () => copyToClipboard(document.getElementById('loanResultTotal').textContent, 'copyLoanMsg'));
    }
    
    // 11. GPA Calculator
    let addGpaRow;
    function setupGpaCalculator() {
        const container = document.getElementById('gpaRowsContainer');
        const addBtn = document.getElementById('addGpaRowBtn');
        const calcBtn = document.getElementById('gpaCalculateBtn');
        const resultText = document.getElementById('gpaResultText');
        const errorText = document.getElementById('gpaErrorText');
        
        const gradeMap = { 'A+': 4.5, 'A0': 4.0, 'B+': 3.5, 'B0': 3.0, 'C+': 2.5, 'C0': 2.0, 'D+': 1.5, 'D0': 1.0, 'F': 0.0 };

        addGpaRow = () => {
            const row = document.createElement('div');
            row.className = 'gpa-row grid grid-cols-12 gap-2 items-center mb-2';
            row.innerHTML = `
                <input type="text" placeholder="과목명" class="col-span-4 p-2 border rounded">
                <input type="number" placeholder="학점" class="col-span-2 p-2 border rounded gpa-credit">
                <select class="col-span-3 p-2 border rounded gpa-grade">
                    <option>A+</option><option>A0</option><option>B+</option><option>B0</option><option>C+</option><option>C0</option><option>D+</option><option>D0</option><option>F</option>
                </select>
                <div class="col-span-2 flex items-center justify-center">
                    <input type="checkbox" class="gpa-pf"> <label class="ml-1 text-sm">P/F</label>
                </div>
                <button class="col-span-1 remove-gpa-row text-red-500 hover:text-red-700 font-bold">X</button>
            `;
            container.appendChild(row);
        };

        container.addEventListener('click', (e) => {
            if (e.target.classList.contains('remove-gpa-row')) {
                e.target.closest('.gpa-row').remove();
            }
        });
        
        addBtn.addEventListener('click', addGpaRow);
        
        calcBtn.addEventListener('click', () => {
            let totalCredits = 0;
            let totalPoints = 0;
            errorText.textContent = '';

            document.querySelectorAll('.gpa-row').forEach(row => {
                const credit = parseFloat(row.querySelector('.gpa-credit').value);
                const grade = row.querySelector('.gpa-grade').value;
                const isPf = row.querySelector('.gpa-pf').checked;

                if(!isNaN(credit) && credit > 0 && !isPf) {
                    totalCredits += credit;
                    totalPoints += credit * gradeMap[grade];
                }
            });

            if (totalCredits > 0) {
                const gpa = (totalPoints / totalCredits).toFixed(2);
                resultText.textContent = `${gpa} / 4.5`;
            } else {
                resultText.textContent = '0.00 / 4.5';
                errorText.textContent = '계산할 과목이 없습니다.';
            }
        });
        
        document.getElementById('copyGpaBtn').addEventListener('click', () => copyToClipboard(document.getElementById('gpaResultText').textContent, 'copyGpaMsg'));

        // Add initial rows
        addGpaRow(); addGpaRow(); addGpaRow();
    }

    // --- INITIALIZE ---
    function initialize() {
        const initialTab = window.location.hash.substring(1) || 'crypto';
        
        setupCryptoCalculator();
        setupExchangeRateCalculator();
        setupAgeCalculator();
        setupSalaryCalculator();
        setupCommissionCalculator();
        setupInterestCalculator();
        setupRobuxCalculator();
        setupBmiCalculator();
        setupDdayCalculator();
        setupLoanCalculator();
        setupGpaCalculator();
        
        showTab(initialTab);
    }
    
    initialize();
});
</script>

</body>
</html>


