<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- START: SEO 최적화 태그 -->
    <title>온라인 간편 계산기 | 코인 환율, 세계 환율, 만나이, 연봉, 부동산, 예적금, 로벅스</title>
    <meta name="description" content="주요 코인(비트코인,이더리움,솔라나 등 10종) 및 국가(달러,유로,엔 등) 환율, 만 나이, 2025년 연봉 실수령액, 부동산, 예적금 이자를 간편하게 계산하세요.">
    <meta name="keywords" content="온라인 계산기, 코인 계산기, 암호화폐 계산기, 비트코인, 이더리움, 솔라나, 리플, 환율 계산기, 만나이 계산기, 연봉 계산기, 부동산 계산기">
    <!-- END: SEO 최적화 태그 -->

    <!-- 1. 구글 애드센스 심사 코드는 여기에 성공적으로 삽입되었습니다. -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1665611122111123"
     crossorigin="anonymous"></script>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', 'Inter', sans-serif;
        }
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type=number] {
            -moz-appearance: textfield;
        }
        .info-section h3 {
            @apply text-xl font-bold text-gray-800 mb-4;
        }
        /* 활성화된 네비게이션 링크 스타일 */
        .active-nav-link {
            @apply bg-slate-100 text-slate-900;
        }
    </style>
</head>
<body class="bg-gray-50">

    <!-- Overlay for Mobile Sidebar -->
    <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 z-10 hidden lg:hidden"></div>

    <div class="relative min-h-screen lg:flex">
        <!-- Left Sidebar -->
        <aside id="sidebar" class="fixed top-0 left-0 w-3/4 max-w-xs h-full bg-white shadow-xl p-6 z-20 transform -translate-x-full transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0 lg:w-1/4 lg:h-screen lg:shadow-md lg:max-w-none lg:sticky">
            <div class="flex justify-between items-center border-b pb-4 mb-6">
                <h2 class="text-xl font-bold text-slate-800 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 text-slate-600"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/></svg>
                    계산기 목록
                </h2>
                <button id="closeButton" class="lg:hidden text-gray-500 hover:text-gray-800">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            
            <nav class="space-y-1">
                 <a href="#" data-tab-link="crypto" class="flex items-center p-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-100 tab-link-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 mr-3 text-slate-500"><circle cx="8" cy="18" r="4"/><path d="M12 18V2l7 4-7 4"/><path d="m6 12 6-4 6 4"/><path d="M6 6 12 2l6 4"/></svg>
                    주요 코인 환율
                </a>
                 <a href="#" data-tab-link="exchangeRate" class="flex items-center p-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-100 tab-link-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 mr-3 text-slate-500"><circle cx="12" cy="12" r="10"/><path d="M2 12h20"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                    세계 환율
                </a>
                 <a href="#" data-tab-link="age" class="flex items-center p-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-100 tab-link-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 mr-3 text-slate-500"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>
                    만 나이
                </a>
                <a href="#" data-tab-link="salary" class="flex items-center p-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-100 tab-link-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 mr-3 text-slate-500"><path d="M12 1v22"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                    연봉 실수령액
                </a>
                <a href="#" data-tab-link="commission" class="flex items-center p-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-100 tab-link-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 mr-3 text-slate-500"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                    부동산 중개보수
                </a>
                <a href="#" data-tab-link="interest" class="flex items-center p-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-100 tab-link-item">
                     <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 mr-3 text-slate-500"><path d="M7 21h10"/><path d="M12 21v-8.5a2.5 2.5 0 0 0-5 0V21"/><path d="M12 3v2.55A2.5 2.5 0 0 1 9.55 8H8.55A2.5 2.5 0 0 1 6 5.45V4.03a2.49 2.49 0 0 1 2-2.45V1"/><path d="M12 21v-8.5a2.5 2.5 0 0 1 5 0V21"/><path d="M12 3v2.55A2.5 2.5 0 0 0 14.45 8h.95a2.5 2.5 0 0 0 2.5-2.55V4.03a2.49 2.49 0 0 0-2-2.45V1"/></svg>
                    예/적금 이자
                </a>
                <a href="#" data-tab-link="robux" class="flex items-center p-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-100 tab-link-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 mr-3 text-slate-500"><path d="m15.12 4.2-1.24 2.16a2 2 0 0 1-3.05.6l-4.1-2.25a2 2 0 0 0-2.3,0l-1.31.75a2 2 0 0 0-1.13 1.74l.26,2.83a2 2 0 0 1-.58,1.8l-1.63,1.9a2 2 0 0 0 0,2.68l1.63,1.9a2 2 0 0 1 .58,1.8l-.26,2.83a2 2 0 0 0 1.13,1.74l1.31.75a2 2 0 0 0 2.3,0l4.1-2.25a2 2 0 0 1 3.05.6l1.24,2.16a2 2 0 0 0 1.78,1.06h2.15a2 2 0 0 0 1.95-2.27L20.1,6.53a2 2 0 0 0-1.95-2.27h-2.15a2 2 0 0 0-1.78,1.06Z"/><path d="M13 7.5 11.5 5l-2 3L8 5l-2 3.5h7Z"/></svg>
                    로벅스 환율
                </a>
            </nav>

            <!-- Coupang Partners Banner for Desktop -->
            <div class="mt-10 pt-6 border-t">
                <h3 class="font-bold text-lg mb-4 text-gray-800">오늘의 핫딜!</h3>
                <div class="w-full overflow-hidden">
                    <script src="https://ads-partners.coupang.com/g.js"></script>
                    <script>
                        new PartnersCoupang.G({"id":914985,"template":"carousel","trackingCode":"AF3175091","width":"320","height":"300","tsource":""});
                    </script>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="w-full p-4 sm:p-6 md:p-8">
             <!-- Mobile Header -->
            <header class="lg:hidden flex justify-between items-center mb-6">
                <div>
                    <h1 class="text-2xl font-bold text-gray-800">온라인 간편 계산기</h1>
                    <h2 id="currentCalculatorTitleMobile" class="text-lg font-medium text-blue-600"></h2>
                </div>
                <button id="menuButton" class="p-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
            </header>

            <div class="w-full max-w-4xl mx-auto">
                <!-- Coupang Partners Banner for Mobile -->
                <div class="lg:hidden mb-6">
                     <h3 class="font-bold text-lg mb-4 text-gray-800">오늘의 핫딜!</h3>
                     <script src="https://ads-partners.coupang.com/g.js"></script>
                     <script>
                         new PartnersCoupang.G({"id":914985,"template":"carousel","trackingCode":"AF3175091","width":"320","height":"300","tsource":""});
                     </script>
                </div>

                <div class="bg-white rounded-2xl shadow-lg p-6 sm:p-8">
                    <!-- Header for Desktop -->
                    <div class="text-center mb-6 hidden lg:block">
                        <h1 class="text-3xl sm:text-4xl font-bold text-gray-800">온라인 간편 계산기</h1>
                        <p class="text-gray-500 mt-2">생활에 필요한 모든 계산을 한 곳에서</p>
                        <h2 id="currentCalculatorTitle" class="text-2xl font-bold text-blue-600 mt-4"></h2>
                    </div>

                    <!-- Calculator Container -->
                    <div id="calculatorContainer">
                        <!-- 주요 코인 환율 계산기 -->
                        <div id="cryptoCalculator" class="hidden">
                            <div class="bg-amber-50 border-l-4 border-amber-500 text-amber-700 p-4 rounded-lg mb-6" role="alert">
                                <p class="font-bold">참고</p>
                                <p id="cryptoRateInfoText">실시간 코인 시세 정보를 불러오는 중입니다...</p>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4">
                                <div><label for="cryptoKrw" class="font-semibold text-gray-700 flex items-center">🇰🇷 대한민국 원 (KRW)</label><input type="number" id="cryptoKrw" data-asset="KRW" class="crypto-input w-full p-3 border rounded-lg mt-1" placeholder="1000000"></div>
                                <div><label for="cryptoUsd" class="font-semibold text-gray-700 flex items-center">🇺🇸 미국 달러 (USD)</label><input type="number" id="cryptoUsd" data-asset="USD" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="btc" class="font-semibold text-gray-700 flex items-center">₿ 비트코인 (BTC)</label><input type="number" id="btc" data-asset="bitcoin" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="eth" class="font-semibold text-gray-700 flex items-center">♦ 이더리움 (ETH)</label><input type="number" id="eth" data-asset="ethereum" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="sol" class="font-semibold text-gray-700 flex items-center">☀️ 솔라나 (SOL)</label><input type="number" id="sol" data-asset="solana" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="bnb" class="font-semibold text-gray-700 flex items-center">🔶 BNB</label><input type="number" id="bnb" data-asset="binancecoin" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="xrp" class="font-semibold text-gray-700 flex items-center">✕ 리플 (XRP)</label><input type="number" id="xrp" data-asset="ripple" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="doge" class="font-semibold text-gray-700 flex items-center">Ɖ 도지코인 (DOGE)</label><input type="number" id="doge" data-asset="dogecoin" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="ada" class="font-semibold text-gray-700 flex items-center">🔷 카르다노 (ADA)</label><input type="number" id="ada" data-asset="cardano" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="ton" class="font-semibold text-gray-700 flex items-center">💎 톤코인 (TON)</label><input type="number" id="ton" data-asset="toncoin" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="avax" class="font-semibold text-gray-700 flex items-center">🔺 아발란체 (AVAX)</label><input type="number" id="avax" data-asset="avalanche" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="dot" class="font-semibold text-gray-700 flex items-center">⚫️ 폴카닷 (DOT)</label><input type="number" id="dot" data-asset="polkadot" class="crypto-input w-full p-3 border rounded-lg mt-1"></div>
                            </div>
                        </div>

                        <!-- 세계 환율 계산기 -->
                        <div id="exchangeRateCalculator" class="hidden">
                            <div class="bg-blue-50 border-l-4 border-blue-500 text-blue-700 p-4 rounded-lg mb-6" role="alert">
                                <p class="font-bold">참고</p>
                                <p id="exchangeRateInfoText">실시간 환율 정보를 불러오는 중입니다...</p>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4">
                                <div><label for="krw" class="font-semibold text-gray-700 flex items-center">🇰🇷 대한민국 원 (KRW)</label><input type="number" id="krw" data-currency="KRW" class="currency-input w-full p-3 border rounded-lg mt-1" placeholder="10000"></div>
                                <div><label for="usd" class="font-semibold text-gray-700 flex items-center">🇺🇸 미국 달러 (USD)</label><input type="number" id="usd" data-currency="USD" class="currency-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="jpy" class="font-semibold text-gray-700 flex items-center">🇯🇵 일본 엔 (JPY)</label><input type="number" id="jpy" data-currency="JPY" class="currency-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="eur" class="font-semibold text-gray-700 flex items-center">🇪🇺 유럽 유로 (EUR)</label><input type="number" id="eur" data-currency="EUR" class="currency-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="cny" class="font-semibold text-gray-700 flex items-center">🇨🇳 중국 위안 (CNY)</label><input type="number" id="cny" data-currency="CNY" class="currency-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="gbp" class="font-semibold text-gray-700 flex items-center">🇬🇧 영국 파운드 (GBP)</label><input type="number" id="gbp" data-currency="GBP" class="currency-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="cad" class="font-semibold text-gray-700 flex items-center">🇨🇦 캐나다 달러 (CAD)</label><input type="number" id="cad" data-currency="CAD" class="currency-input w-full p-3 border rounded-lg mt-1"></div>
                                <div><label for="aud" class="font-semibold text-gray-700 flex items-center">🇦🇺 호주 달러 (AUD)</label><input type="number" id="aud" data-currency="AUD" class="currency-input w-full p-3 border rounded-lg mt-1"></div>
                            </div>
                        </div>

                        <!-- 만 나이 계산기 -->
                        <div id="ageCalculator" class="hidden">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                                <div class="space-y-6">
                                    <div>
                                        <label for="birthDate" class="font-semibold text-gray-700">생년월일</label>
                                        <input type="date" id="birthDate" class="w-full p-3 border rounded-lg mt-2">
                                    </div>
                                    <button id="ageCalculateBtn" class="w-full bg-purple-500 text-white font-bold py-4 rounded-lg hover:bg-purple-600 transition-colors text-lg">나이 계산하기</button>
                                </div>
                                <div class="bg-gray-50 rounded-lg p-6 flex flex-col justify-center items-center text-center h-full">
                                    <p class="text-gray-600">만 나이는</p>
                                    <div id="ageResultText" class="text-4xl sm:text-5xl font-bold my-4 text-gray-800">0 세</div>
                                    <div id="ageResultDetails" class="text-gray-500">생년월일을 입력해주세요.</div>
                                </div>
                            </div>
                        </div>

                        <!-- 연봉 실수령액 계산기 -->
                        <div id="salaryCalculator" class="hidden">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div class="space-y-4">
                                    <div>
                                        <label class="font-semibold text-gray-700">퇴직금</label>
                                        <div class="flex gap-4 mt-2">
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="severancePay" value="exclude" class="mr-2" checked> 미포함(1/12)</label>
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="severancePay" value="include" class="mr-2"> 포함(1/13)</label>
                                        </div>
                                    </div>
                                    <div><label for="annualSalary" class="font-semibold text-gray-700">연봉</label><div class="relative mt-2"><input type="number" id="annualSalary" class="w-full p-3 border rounded-lg" placeholder="예: 50000000"><span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400">원</span></div></div>
                                    <div><label for="dependents" class="font-semibold text-gray-700">부양가족 수 (본인포함)</label><div class="relative mt-2"><input type="number" id="dependents" class="w-full p-3 border rounded-lg" value="1" placeholder="1"></div></div>
                                    <div><label for="childrenUnder20" class="font-semibold text-gray-700">20세 이하 자녀 수</label><div class="relative mt-2"><input type="number" id="childrenUnder20" class="w-full p-3 border rounded-lg" value="0" placeholder="0"></div></div>
                                    <button id="salaryCalculateBtn" class="w-full bg-indigo-500 text-white font-bold py-4 rounded-lg hover:bg-indigo-600 transition-colors text-lg">실수령액 계산하기</button>
                                </div>
                                <div class="bg-gray-50 rounded-lg p-6 flex flex-col justify-center text-center space-y-3">
                                    <div><p class="text-gray-600 text-lg">월 예상 실수령액</p><div id="salaryResultNet" class="text-4xl font-bold text-gray-800">0 원</div></div>
                                    <div class="w-full pt-3 border-t text-sm">
                                        <div class="flex justify-between"><span class="text-gray-500">월 예상 소득</span><span id="salaryResultGross" class="font-semibold text-gray-700">0 원</span></div>
                                        <div class="flex justify-between mt-2 text-red-600"><span class="text-red-500">월 공제액 합계</span><span id="salaryResultDeductions" class="font-semibold">0 원</span></div>
                                        <div class="pl-4 mt-1 space-y-1 text-xs">
                                            <div class="flex justify-between"><span class="text-gray-500">┣ 국민연금 (4.5%)</span><span id="salaryDeductPension">0 원</span></div>
                                            <div class="flex justify-between"><span class="text-gray-500">┣ 건강보험 (3.545%)</span><span id="salaryDeductHealth">0 원</span></div>
                                            <div class="flex justify-between"><span class="text-gray-500">┣ 장기요양 (12.95%)</span><span id="salaryDeductCare">0 원</span></div>
                                            <div class="flex justify-between"><span class="text-gray-500">┣ 고용보험 (0.9%)</span><span id="salaryDeductEmployment">0 원</span></div>
                                            <div class="flex justify-between"><span class="text-gray-500">┣ 소득세 (간이세액)</span><span id="salaryDeductIncomeTax">0 원</span></div>
                                            <div class="flex justify-between"><span class="text-gray-500">┗ 지방소득세 (10%)</span><span id="salaryDeductLocalTax">0 원</span></div>
                                        </div>
                                    </div>
                                     <div id="salaryErrorText" class="text-red-500 font-semibold pt-2"></div>
                                </div>
                            </div>
                        </div>

                        <!-- 부동산 중개보수 계산기 -->
                        <div id="commissionCalculator">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div class="space-y-6">
                                    <div>
                                        <label class="font-semibold text-gray-700">거래 종류</label>
                                        <div class="flex gap-4 mt-2" id="tradeTypeContainer">
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="tradeType" value="매매" class="mr-2" checked> 매매/교환</label>
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="tradeType" value="임대차" class="mr-2"> 임대차</label>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="font-semibold text-gray-700">부동산 종류</label>
                                        <div class="flex gap-4 mt-2">
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="propertyType" value="주택" class="mr-2" checked> 주택</label>
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="propertyType" value="오피스텔" class="mr-2"> 오피스텔</label>
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="propertyType" value="기타" class="mr-2"> 그 외</label>
                                        </div>
                                    </div>
                                    <div id="priceContainer">
                                        <label for="price" class="font-semibold text-gray-700">매매가</label>
                                        <div class="relative mt-2"><input type="number" id="price" class="w-full p-3 border rounded-lg" placeholder="예: 500000000"><span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400">원</span></div>
                                    </div>
                                    <div id="rentContainer" class="hidden space-y-4">
                                         <div><label for="deposit" class="font-semibold text-gray-700">보증금</label><div class="relative mt-2"><input type="number" id="deposit" class="w-full p-3 border rounded-lg" placeholder="예: 50000000"><span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400">원</span></div></div>
                                         <div><label for="monthlyRent" class="font-semibold text-gray-700">월세</label><div class="relative mt-2"><input type="number" id="monthlyRent" class="w-full p-3 border rounded-lg" placeholder="예: 700000"><span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400">원</span></div></div>
                                    </div>
                                    <button id="commissionCalculateBtn" class="w-full bg-blue-500 text-white font-bold py-4 rounded-lg hover:bg-blue-600 transition-colors text-lg">계산하기</button>
                                </div>
                                <div class="bg-gray-50 rounded-lg p-6 flex flex-col justify-center items-center text-center">
                                    <p class="text-gray-600">최대 중개보수는</p>
                                    <div id="commissionResultText" class="text-4xl sm:text-5xl font-bold my-4 text-gray-800">0 원</div>
                                    <div id="commissionResultDetails" class="text-gray-500">계산 버튼을 눌러주세요.</div>
                                    <div id="commissionErrorText" class="text-red-500 font-semibold mt-4"></div>
                                </div>
                            </div>
                        </div>
                        <!-- 예/적금 이자 계산기 (Initially hidden) -->
                        <div id="interestCalculator" class="hidden">
                             <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div class="space-y-6">
                                   <div>
                                        <label class="font-semibold text-gray-700">예금 종류</label>
                                        <div class="flex gap-4 mt-2">
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="depositType" value="단리" class="mr-2" checked> 예금(단리)</label>
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="depositType" value="복리" class="mr-2"> 예금(복리)</label>
                                        </div>
                                    </div>
                                    <div><label for="principal" class="font-semibold text-gray-700">예치금액(원)</label><input type="number" id="principal" class="w-full p-3 border rounded-lg mt-2" placeholder="예: 10000000"></div>
                                    <div><label for="period" class="font-semibold text-gray-700">예치기간(개월)</label><input type="number" id="period" class="w-full p-3 border rounded-lg mt-2" placeholder="예: 12"></div>
                                    <div><label for="rate" class="font-semibold text-gray-700">연 이자율(%)</label><input type="number" id="rate" class="w-full p-3 border rounded-lg mt-2" placeholder="예: 3.5"></div>
                                    <div>
                                        <label class="font-semibold text-gray-700">과세 구분</label>
                                        <div class="flex gap-4 mt-2">
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="taxType" value="일반" class="mr-2" checked> 일반(15.4%)</label>
                                            <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="taxType" value="비과세" class="mr-2"> 비과세</label>
                                        </div>
                                    </div>
                                    <button id="interestCalculateBtn" class="w-full bg-green-500 text-white font-bold py-4 rounded-lg hover:bg-green-600 transition-colors text-lg">이자 계산하기</button>
                                </div>
                                <div class="bg-gray-50 rounded-lg p-6 flex flex-col justify-center text-center space-y-4">
                                      <div><p class="text-gray-600 text-lg">세후 수령액</p><div id="interestResultTotal" class="text-4xl font-bold text-gray-800">0 원</div></div>
                                    <div class="w-full pt-4 border-t">
                                        <div class="flex justify-between"><span class="text-gray-500">원금 합계</span><span id="interestResultPrincipal" class="font-semibold text-gray-700">0 원</span></div>
                                        <div class="flex justify-between mt-2"><span class="text-gray-500">세전 이자</span><span id="interestResultBeforeTax" class="font-semibold text-gray-700">0 원</span></div>
                                        <div class="flex justify-between mt-2"><span class="text-gray-500">이자 과세(15.4%)</span><span id="interestResultTax" class="font-semibold text-red-500">0 원</span></div>
                                    </div>
                                    <div id="interestErrorText" class="text-red-500 font-semibold pt-2"></div>
                                </div>
                            </div>
                        </div>
                        <!-- 로벅스 환율 계산기 (Initially hidden) -->
                        <div id="robuxCalculator" class="hidden">
                            <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-lg mb-6" role="alert">
                                <p class="font-bold">참고</p>
                                <p id="robuxRateInfo">현재 환율 정보를 불러오는 중입니다...</p>
                                <p id="robuxStandardInfo"></p>
                            </div>
                            <div class="mb-6">
                                <label class="font-semibold text-gray-700">구매 플랫폼</label>
                                <div class="flex gap-4 mt-2" id="platformSelector">
                                    <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center bg-blue-50 border-blue-200"><input type="radio" name="platform" value="pc" class="mr-2" checked> PC/웹/기프트</label>
                                    <label class="flex items-center p-3 border rounded-lg cursor-pointer flex-1 justify-center"><input type="radio" name="platform" value="mobile" class="mr-2"> 모바일/콘솔</label>
                                </div>
                            </div>
                            <div class="space-y-6">
                                <div><label for="robuxInput" class="font-semibold text-gray-700">로벅스 (R$)</label><input type="number" id="robuxInput" class="w-full p-4 border rounded-lg mt-2 text-2xl font-bold" placeholder="1200"></div>
                                <div><label for="krwInput" class="font-semibold text-gray-700">대한민국 원 (₩)</label><input type="number" id="krwInput" class="w-full p-4 border rounded-lg mt-2 text-2xl font-bold" placeholder="15000"></div>
                                <div><label for="usdInput" class="font-semibold text-gray-700">미국 달러 ($)</label><input type="number" id="usdInput" class="w-full p-4 border rounded-lg mt-2 text-2xl font-bold" placeholder=""></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SEO Content Section -->
                <div class="mt-8 bg-white rounded-2xl shadow-lg p-6 sm:p-8 info-section">
                    <div id="cryptoInfo" class="info-content hidden">
                        <h3>암호화폐 투자 전 알아둘 점</h3>
                        <ul class="space-y-5 text-sm">
                            <li><strong class="block font-semibold text-gray-800">높은 변동성</strong><p class="mt-1 text-gray-600">암호화폐는 주식 등 전통 자산에 비해 가격 변동성이 매우 큽니다. 시세가 급등락할 수 있으므로 투자 시 높은 위험이 따른다는 점을 반드시 인지해야 합니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">거래소 수수료</strong><p class="mt-1 text-gray-600">암호화폐를 거래소에서 매매할 때는 거래 수수료가 발생하며, 개인 지갑으로 전송할 때는 네트워크 수수료(가스비)가 추가로 발생할 수 있습니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">시세 정보 출처</strong><p class="mt-1 text-gray-600">본 계산기는 CoinGecko API를 통해 제공되는 실시간 국제 시세 데이터를 사용합니다. 실제 이용하는 국내외 거래소의 시세와는 약간의 차이가 있을 수 있습니다.</p></li>
                        </ul>
                    </div>
                    <div id="exchangeRateInfo" class="info-content hidden">
                        <h3>환율 정보 알아보기</h3>
                        <ul class="space-y-5 text-sm">
                            <li><strong class="block font-semibold text-gray-800">환율이란?</strong><p class="mt-1 text-gray-600">한 나라의 통화(돈)를 다른 나라의 통화와 교환할 때 적용되는 비율을 의미합니다. 환율은 외환 시장의 수요와 공급에 따라 계속해서 변동합니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">실시간 환율 vs 은행 고시 환율</strong><p class="mt-1 text-gray-600">본 계산기에서 제공하는 환율은 국제 외환 시장의 실시간 데이터입니다. 은행에서 환전할 때 적용되는 '고시 환율'은 실시간 환율에 수수료가 포함되어 있으므로 약간의 차이가 발생할 수 있습니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">환전 수수료 우대</strong><p class="mt-1 text-gray-600">주거래 은행이나 모바일 앱을 통해 환전할 경우 환전 수수료 우대(할인) 혜택을 받을 수 있습니다. 주요 통화(달러, 엔, 유로)는 보통 80~90%까지 우대받을 수 있으니 꼭 확인해보세요.</p></li>
                        </ul>
                    </div>
                    <div id="ageInfo" class="info-content hidden">
                        <h3>만 나이 계산법 알아보기</h3>
                        <ul class="space-y-5 text-sm">
                            <li><strong class="block font-semibold text-gray-800">만 나이란?</strong><p class="mt-1 text-gray-600">출생일을 기준으로 0살로 시작하여, 생일이 지날 때마다 1살씩 더하는 국제 표준 나이 계산법입니다. 2023년 6월 28일부터 대한민국에서도 법적, 사회적 나이 계산법이 '만 나이'로 통일되었습니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">간단 계산법</strong><p class="mt-1 text-gray-600">올해 생일이 지났다면: <span class="font-bold text-blue-600">[현재 연도] - [출생 연도]</span><br>올해 생일이 지나지 않았다면: <span class="font-bold text-red-600">[현재 연도] - [출생 연도] - 1</span></p></li>
                            <li><strong class="block font-semibold text-gray-800">언제 사용할까요?</strong><p class="mt-1 text-gray-600">이제부터는 법령, 계약, 공문서 등 모든 공식적인 서류와 일상생활에서 '나이'를 언급할 때는 특별한 규정이 없는 한 '만 나이'를 의미합니다. (예: 선거권, 연금 수급, 정년 등)</p></li>
                        </ul>
                    </div>
                     <div id="salaryInfo" class="info-content hidden">
                        <h3>2025년 연봉 실수령액 계산 기준</h3>
                        <ul class="space-y-5 text-sm">
                             <li><strong class="block font-semibold text-gray-800">4대 보험 요율 (근로자 부담분 기준)</strong>
                                <p class="mt-1 text-gray-600">
                                    - 국민연금: 과세소득의 <span class="font-bold text-indigo-600">4.5%</span> (월 상한액 265,500원)<br>
                                    - 건강보험: 보수월액의 <span class="font-bold text-indigo-600">3.545%</span><br>
                                    - 장기요양보험: 건강보험료의 <span class="font-bold text-indigo-600">12.95%</span><br>
                                    - 고용보험: 과세소득의 <span class="font-bold text-indigo-600">0.9%</span>
                                </p>
                            </li>
                             <li><strong class="block font-semibold text-gray-800">근로소득세 (소득세)</strong><p class="mt-1 text-gray-600">국세청의 '근로소득 간이세액표'에 따라 월 급여와 공제대상 가족 수(부양가족, 20세 이하 자녀)를 기준으로 정해진 세금을 원천징수합니다.</p></li>
                             <li><strong class="block font-semibold text-gray-800">지방소득세</strong><p class="mt-1 text-gray-600">위에서 계산된 근로소득세의 <span class="font-bold text-indigo-600">10%</span>가 지방소득세로 추가 공제됩니다.</p></li>
                             <li><strong class="block font-semibold text-gray-800">참고 사항</strong><p class="mt-1 text-gray-600">본 계산기는 비과세 소득(예: 식대, 차량유지비 등)을 고려하지 않은 결과이며, 실제 수령액은 개인의 조건에 따라 다소 차이가 있을 수 있습니다.</p></li>
                        </ul>
                    </div>
                    <div id="commissionInfo" class="info-content">
                        <h3>2025년 부동산 중개보수 요율표 (주택 기준)</h3>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                            <div class="border rounded-lg p-4 bg-blue-50">
                                <h4 class="text-lg font-bold text-blue-800 mb-4 text-center">매매 / 교환</h4>
                                <div class="space-y-3">
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">5천만원 미만</p><p class="text-right"><span class="font-bold text-blue-600">0.6%</span> (한도 25만원)</p></div>
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">5천만원 ~ 2억원 미만</p><p class="text-right"><span class="font-bold text-blue-600">0.5%</span> (한도 80만원)</p></div>
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">2억원 ~ 9억원 미만</p><p class="text-right font-bold text-blue-600">0.4%</p></div>
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">9억원 ~ 12억원 미만</p><p class="text-right font-bold text-blue-600">0.5%</p></div>
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">12억원 ~ 15억원 미만</p><p class="text-right font-bold text-blue-600">0.6%</p></div>
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">15억원 이상</p><p class="text-right font-bold text-blue-600">0.7%</p></div>
                                </div>
                            </div>
                            <div class="border rounded-lg p-4 bg-green-50">
                                <h4 class="text-lg font-bold text-green-800 mb-4 text-center">임대차 등 (전/월세)</h4>
                                <div class="space-y-3">
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">5천만원 미만</p><p class="text-right"><span class="font-bold text-green-600">0.5%</span> (한도 20만원)</p></div>
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">5천만원 ~ 1억원 미만</p><p class="text-right"><span class="font-bold text-green-600">0.4%</span> (한도 30만원)</p></div>
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">1억원 ~ 6억원 미만</p><p class="text-right font-bold text-green-600">0.3%</p></div>
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">6억원 ~ 12억원 미만</p><p class="text-right font-bold text-green-600">0.4%</p></div>
                                    <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">12억원 ~ 15억원 미만</p><p class="text-right font-bold text-green-600">0.5%</p></div>
                                     <div class="p-3 bg-white rounded-md text-sm flex justify-between items-center shadow-sm"><p class="font-semibold text-gray-700">15억원 이상</p><p class="text-right font-bold text-green-600">0.6%</p></div>
                                </div>
                            </div>
                        </div>
                        
                        <h3 class="mt-8">부동산 중개보수 관련 Tip</h3>
                        <ul class="space-y-5 text-sm">
                            <li><strong class="block font-semibold text-gray-800">VAT(부가가치세) 10%는 별도입니다.</strong><p class="mt-1 text-gray-600">계산된 금액에 추가로 부과될 수 있습니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">법정 '상한' 요율임을 기억하세요.</strong><p class="mt-1 text-gray-600">실제 중개보수는 법에서 정한 상한선 내에서 공인중개사와 협의하여 결정할 수 있습니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">과세 유형을 확인하세요.</strong><p class="mt-1 text-gray-600">중개사가 간이과세자인지 일반과세자인지에 따라 VAT 부과 여부나 비율이 달라질 수 있으니, 계약 전 미리 확인하는 것이 좋습니다.</p></li>
                        </ul>
                    </div>
                    <div id="interestInfo" class="info-content hidden">
                        <h3>예/적금 이자 관련 핵심 용어</h3>
                        <ul class="space-y-5 text-sm">
                            <li><strong class="block font-semibold text-gray-800">단리</strong><p class="mt-1 text-gray-600">원금에 대해서만 약정된 이율과 기간을 적용하여 이자를 계산하는 가장 기본적인 방식입니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">복리</strong><p class="mt-1 text-gray-600">발생한 이자를 원금에 더한 금액(원리금)을 새로운 원금으로 보고 다시 이자를 계산하는 방식으로, 시간이 지날수록 이자가 눈덩이처럼 불어나는 효과가 있습니다. '이자의 이자'가 붙는 마법이죠.</p></li>
                            <li><strong class="block font-semibold text-gray-800">일반과세 (15.4%)</strong><p class="mt-1 text-gray-600">금융상품으로 발생한 이자 소득에 대해 부과되는 세금입니다. (소득세 14% + 지방소득세 1.4%)</p></li>
                             <li><strong class="block font-semibold text-gray-800">비과세 종합저축</strong><p class="mt-1 text-gray-600">만 65세 이상 등 특정 조건을 만족하면 가입할 수 있는 상품으로, 이자 소득에 세금을 부과하지 않아 절세에 매우 유리합니다.</p></li>
                        </ul>
                    </div>
                    <div id="robuxInfo" class="info-content hidden">
                        <h3>로벅스(Robux) 저렴하게 구매하는 Tip</h3>
                        <ul class="space-y-5 text-sm">
                            <li><strong class="block font-semibold text-gray-800">플랫폼별 가격 비교는 필수</strong><p class="mt-1 text-gray-600">일반적으로 모바일 앱(인앱결제)을 통해 구매하는 것보다 PC/웹사이트에서 직접 구매하는 것이 수수료가 없어 더 저렴합니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">로블록스 프리미엄 활용</strong><p class="mt-1 text-gray-600">월정액 구독 서비스인 '프리미엄'에 가입하면 매월 일정량의 로벅스를 보너스로 지급받고, 추가 구매 시 10% 더 많은 로벅스를 받을 수 있어 장기적으로 이득입니다.</p></li>
                            <li><strong class="block font-semibold text-gray-800">기프트 카드 구매</strong><p class="mt-1 text-gray-600">각종 온라인 쇼핑몰에서 '로블록스 기프트 카드'를 검색해 보세요. 카드사 할인이나 쇼핑몰 쿠폰을 적용하면 공식 가격보다 저렴하게 구매할 수 있는 경우가 많습니다.</p></li>
                        </ul>
                    </div>
                </div>
            </div>
        </main>
    </div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // --- Mobile Sidebar Logic ---
    const menuButton = document.getElementById('menuButton');
    const closeButton = document.getElementById('closeButton');
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('overlay');

    function openSidebar() { sidebar.classList.remove('-translate-x-full'); overlay.classList.remove('hidden'); }
    function closeSidebar() { sidebar.classList.add('-translate-x-full'); overlay.classList.add('hidden'); }

    menuButton.addEventListener('click', openSidebar);
    closeButton.addEventListener('click', closeSidebar);
    overlay.addEventListener('click', closeSidebar);

    // --- Tab and Calculator Display Logic ---
    const sidebarLinks = document.querySelectorAll('.tab-link-item');
    const desktopTitle = document.getElementById('currentCalculatorTitle');
    const mobileTitle = document.getElementById('currentCalculatorTitleMobile');
    const calculatorTitles = {
        crypto: '주요 코인 환율',
        exchangeRate: '세계 환율 계산기',
        age: '만 나이 계산기',
        salary: '연봉 실수령액 계산기',
        commission: '부동산 중개보수',
        interest: '예/적금 이자',
        robux: '로벅스 환율'
    };
    
    const calculators = {
        crypto: document.getElementById('cryptoCalculator'),
        exchangeRate: document.getElementById('exchangeRateCalculator'),
        age: document.getElementById('ageCalculator'),
        salary: document.getElementById('salaryCalculator'),
        commission: document.getElementById('commissionCalculator'),
        interest: document.getElementById('interestCalculator'),
        robux: document.getElementById('robuxCalculator')
    };
    const infoSections = {
        crypto: document.getElementById('cryptoInfo'),
        exchangeRate: document.getElementById('exchangeRateInfo'),
        age: document.getElementById('ageInfo'),
        salary: document.getElementById('salaryInfo'),
        commission: document.getElementById('commissionInfo'),
        interest: document.getElementById('interestInfo'),
        robux: document.getElementById('robuxInfo')
    };

    function showTab(tabName) {
        const title = calculatorTitles[tabName] || '';
        if(desktopTitle) desktopTitle.textContent = title;
        if(mobileTitle) mobileTitle.textContent = title;

        Object.values(calculators).forEach(calc => calc.classList.add('hidden'));
        Object.values(infoSections).forEach(info => info.classList.add('hidden'));

        if (calculators[tabName]) calculators[tabName].classList.remove('hidden');
        if (infoSections[tabName]) infoSections[tabName].classList.remove('hidden');

        sidebarLinks.forEach(link => {
            link.classList.remove('active-nav-link');
             if (link.dataset.tabLink === tabName) {
                link.classList.add('active-nav-link');
            }
        });
        
        if (window.innerWidth < 1024) {
            closeSidebar();
        }
    }

    sidebarLinks.forEach(link => {
        link.addEventListener('click', e => {
            e.preventDefault();
            showTab(link.dataset.tabLink);
        });
    });
    
    // --- Crypto Converter Logic ---
    const cryptoInputs = document.querySelectorAll('.crypto-input');
    const cryptoRateInfoText = document.getElementById('cryptoRateInfoText');
    let cryptoRates = {};
    let isCryptoCalculating = false;

    async function fetchCryptoRates() {
        try {
            const coin_ids = 'bitcoin,ethereum,solana,binancecoin,ripple,dogecoin,cardano,toncoin,avalanche,polkadot';
            const response = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${coin_ids}&vs_currencies=usd,krw`);
            if (!response.ok) throw new Error('Network response was not ok');
            cryptoRates = await response.json();
            const btcPriceKrw = cryptoRates.bitcoin.krw.toLocaleString('ko-KR');
            cryptoRateInfoText.textContent = `실시간 시세 적용 중 (예: 1 BTC = ${btcPriceKrw}원)`;
        } catch (error) {
            console.error("코인 시세 정보 가져오기 실패:", error);
            cryptoRateInfoText.textContent = `실시간 코인 시세 로딩에 실패했습니다. 잠시 후 다시 시도해주세요.`;
        }
    }

    function updateCryptoCalculations(sourceAsset) {
        if (isCryptoCalculating || Object.keys(cryptoRates).length === 0) return;
        isCryptoCalculating = true;

        const sourceInput = document.querySelector(`.crypto-input[data-asset="${sourceAsset}"]`);
        const sourceValue = parseFloat(sourceInput.value);
        let valueInUsd = 0;
        
        const precisionMap = {
            KRW: 0,
            USD: 2,
            bitcoin: 8,
            ethereum: 8,
            solana: 4,
            binancecoin: 4,
            ripple: 4,
            dogecoin: 4,
            cardano: 4,
            toncoin: 4,
            avalanche: 4,
            polkadot: 4
        };

        if (!isNaN(sourceValue) && sourceInput.value !== '') {
            if (sourceAsset === 'KRW') {
                valueInUsd = sourceValue / cryptoRates.bitcoin.krw * cryptoRates.bitcoin.usd; 
            } else if (sourceAsset === 'USD') {
                valueInUsd = sourceValue;
            } else { 
                valueInUsd = sourceValue * cryptoRates[sourceAsset].usd;
            }

            cryptoInputs.forEach(input => {
                const targetAsset = input.dataset.asset;
                if (targetAsset !== sourceAsset) {
                    let targetValue;
                    if (targetAsset === 'KRW') {
                        targetValue = valueInUsd / cryptoRates.bitcoin.usd * cryptoRates.bitcoin.krw;
                    } else if (targetAsset === 'USD') {
                        targetValue = valueInUsd;
                    } else {
                        targetValue = valueInUsd / cryptoRates[targetAsset].usd;
                    }

                    const precision = precisionMap[targetAsset] ?? 2;
                    if (precision === 0) {
                        input.value = Math.round(targetValue);
                    } else {
                        input.value = targetValue.toFixed(precision);
                    }
                }
            });
        } else {
            cryptoInputs.forEach(input => {
                if (input !== sourceInput) input.value = '';
            });
        }

        isCryptoCalculating = false;
    }
    
    cryptoInputs.forEach(input => {
        input.addEventListener('input', () => updateCryptoCalculations(input.dataset.asset));
    });


    // --- Exchange Rate Calculator ---
    const currencyInputs = document.querySelectorAll('.currency-input');
    const exchangeRateInfoText = document.getElementById('exchangeRateInfoText');
    let exchangeRates = {};
    let isExchangeCalculating = false;

    async function fetchExchangeRates() {
        try {
            const response = await fetch('https://open.er-api.com/v6/latest/USD');
            if (!response.ok) throw new Error('Network response was not ok');
            const data = await response.json();
            exchangeRates = data.rates;
            exchangeRates['USD'] = 1; 
            const krwRate = exchangeRates['KRW'].toFixed(2);
            const date = new Date(data.time_last_update_utc).toLocaleString('ko-KR');
            exchangeRateInfoText.textContent = `기준: 1달러 = ${krwRate}원 (업데이트: ${date})`;
        } catch (error) {
            console.error("환율 정보 가져오기 실패:", error);
            exchangeRateInfoText.textContent = `실시간 환율 로딩에 실패했습니다. 잠시 후 다시 시도해주세요.`;
        }
    }

    function updateExchangeCalculations(sourceCurrency) {
        if (isExchangeCalculating || Object.keys(exchangeRates).length === 0) return;
        isExchangeCalculating = true;

        const sourceInput = document.querySelector(`.currency-input[data-currency="${sourceCurrency}"]`);
        const sourceValue = parseFloat(sourceInput.value);

        if (!isNaN(sourceValue) && sourceInput.value !== '') {
            const valueInUsd = sourceValue / exchangeRates[sourceCurrency];
            
            currencyInputs.forEach(input => {
                const targetCurrency = input.dataset.currency;
                if (targetCurrency !== sourceCurrency) {
                    const targetValue = valueInUsd * exchangeRates[targetCurrency];
                    
                    if (targetCurrency === 'JPY') {
                        input.value = Math.round(targetValue);
                    } else {
                        input.value = targetValue.toFixed(2);
                    }
                }
            });
        } else {
            currencyInputs.forEach(input => {
                if (input !== sourceInput) input.value = '';
            });
        }
        isExchangeCalculating = false;
    }

    currencyInputs.forEach(input => {
        input.addEventListener('input', () => updateExchangeCalculations(input.dataset.currency));
    });

    // --- Age Calculator ---
    const ageCalculateBtn = document.getElementById('ageCalculateBtn');
    ageCalculateBtn.addEventListener('click', () => {
        const birthDateInput = document.getElementById('birthDate');
        const ageResultText = document.getElementById('ageResultText');
        const ageResultDetails = document.getElementById('ageResultDetails');
        
        if (!birthDateInput.value) {
            ageResultDetails.textContent = "생년월일을 선택해주세요.";
            return;
        }

        const birthDate = new Date(birthDateInput.value);
        const today = new Date();
        
        let age = today.getFullYear() - birthDate.getFullYear();
        const monthDiff = today.getMonth() - birthDate.getMonth();
        
        if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
            age--;
        }
        
        ageResultText.textContent = `${age} 세`;
        ageResultDetails.textContent = `오늘 날짜: ${today.getFullYear()}년 ${today.getMonth() + 1}월 ${today.getDate()}일`;
    });

    // --- Salary Calculator ---
    const salaryCalculateBtn = document.getElementById('salaryCalculateBtn');
    salaryCalculateBtn.addEventListener('click', () => {
        const annualSalary = Number(document.getElementById('annualSalary').value);
        const severancePay = document.querySelector('input[name="severancePay"]:checked').value;
        let dependents = Number(document.getElementById('dependents').value);
        let childrenUnder20 = Number(document.getElementById('childrenUnder20').value);
        const salaryErrorText = document.getElementById('salaryErrorText');
        
        if(annualSalary <= 0) {
            salaryErrorText.textContent = "연봉을 정확히 입력해주세요.";
            return;
        }
        if(dependents < 1) {
            dependents = 1;
            document.getElementById('dependents').value = 1;
        }
        if(childrenUnder20 < 0) {
            childrenUnder20 = 0;
            document.getElementById('childrenUnder20').value = 0;
        }
        salaryErrorText.textContent = "";

        const monthlySalary = Math.round(annualSalary / (severancePay === 'include' ? 13 : 12));
        
        const pensionCap = 5900000;
        const monthlyPensionBase = Math.min(monthlySalary, pensionCap);
        const nationalPension = Math.floor(monthlyPensionBase * 0.045 / 10) * 10;
        const healthInsurance = Math.floor(monthlySalary * 0.03545 / 10) * 10;
        const longTermCare = Math.floor(healthInsurance * 0.1295 / 10) * 10;
        const employmentInsurance = Math.floor(monthlySalary * 0.009 / 10) * 10;
        
        const totalDependents = dependents + childrenUnder20;
        const incomeTax = calculateIncomeTax(monthlySalary, totalDependents);
        const localTax = Math.floor(incomeTax * 0.1 / 10) * 10;

        const totalDeductions = nationalPension + healthInsurance + longTermCare + employmentInsurance + incomeTax + localTax;
        const netIncome = monthlySalary - totalDeductions;

        document.getElementById('salaryResultNet').textContent = `${netIncome.toLocaleString('ko-KR')} 원`;
        document.getElementById('salaryResultGross').textContent = `${monthlySalary.toLocaleString('ko-KR')} 원`;
        document.getElementById('salaryResultDeductions').textContent = `- ${totalDeductions.toLocaleString('ko-KR')} 원`;
        document.getElementById('salaryDeductPension').textContent = `- ${nationalPension.toLocaleString('ko-KR')} 원`;
        document.getElementById('salaryDeductHealth').textContent = `- ${healthInsurance.toLocaleString('ko-KR')} 원`;
        document.getElementById('salaryDeductCare').textContent = `- ${longTermCare.toLocaleString('ko-KR')} 원`;
        document.getElementById('salaryDeductEmployment').textContent = `- ${employmentInsurance.toLocaleString('ko-KR')} 원`;
        document.getElementById('salaryDeductIncomeTax').textContent = `- ${incomeTax.toLocaleString('ko-KR')} 원`;
        document.getElementById('salaryDeductLocalTax').textContent = `- ${localTax.toLocaleString('ko-KR')} 원`;
    });
    
    function calculateIncomeTax(monthlySalary, dependents) {
        const taxTable = {
            1: [0, 0, 0, 0, 0, 1630, 6210, 14360, 24360, 36240, 50240, 77240, 105240, 134240, 163240, 203240, 243240, 283240, 323240, 363240, 403240, 448240, 493240, 538240, 583240, 628240, 673240, 718240, 763240, 808240, 853240],
            2: [0, 0, 0, 0, 0, 0, 0, 2980, 10690, 20690, 32810, 57810, 83810, 110810, 137810, 175310, 212810, 250310, 287810, 325310, 362810, 405310, 447810, 490310, 532810, 575310, 617810, 660310, 702810, 745310, 787810],
            3: [0, 0, 0, 0, 0, 0, 0, 0, 0, 4450, 15070, 38070, 62070, 87070, 112070, 147070, 182070, 217070, 252070, 287070, 322070, 362070, 402070, 442070, 482070, 522070, 562070, 602070, 642070, 682070, 722070]
        };
        const salaryIndex = Math.floor(monthlySalary / 200000) - 5;
        const d = Math.max(1, Math.min(dependents, 3));
        if (salaryIndex < 0 || salaryIndex >= taxTable[d].length) {
            if (monthlySalary > 8000000) return Math.floor(monthlySalary * 0.15 - 500000);
            return 0;
        }
        return taxTable[d][salaryIndex] || 0;
    }

    // --- Real Estate Commission Calculator Logic ---
    const tradeTypeContainer = document.getElementById('tradeTypeContainer');
    const priceContainer = document.getElementById('priceContainer');
    const rentContainer = document.getElementById('rentContainer');
    const commissionCalculateBtn = document.getElementById('commissionCalculateBtn');
    const commissionResultText = document.getElementById('commissionResultText');
    const commissionResultDetails = document.getElementById('commissionResultDetails');
    const commissionErrorText = document.getElementById('commissionErrorText');
    const priceInput = document.getElementById('price');
    const depositInput = document.getElementById('deposit');
    const monthlyRentInput = document.getElementById('monthlyRent');

    tradeTypeContainer.addEventListener('change', (e) => { if (e.target.name === 'tradeType') { updateUiForTradeType(e.target.value); } });
    commissionCalculateBtn.addEventListener('click', () => {
        const tradeType = document.querySelector('input[name="tradeType"]:checked').value;
        const propertyType = document.querySelector('input[name="propertyType"]:checked').value;
        let price = (tradeType === '매매') ? Number(priceInput.value) : Number(depositInput.value);
        let monthlyRent = (tradeType === '매매') ? 0 : Number(monthlyRentInput.value);

        if ((tradeType === '매매' && price <= 0) || (tradeType === '임대차' && (price < 0 || monthlyRent < 0 || (price === 0 && monthlyRent === 0)))) {
            commissionErrorText.textContent = '금액을 정확히 입력해주세요.'; commissionResultText.textContent = '0 원'; commissionResultDetails.textContent = '올바른 값을 입력 후 다시 계산해주세요.'; return;
        }
        commissionErrorText.textContent = '';
        const result = calculateCommissionFee(tradeType, propertyType, price, monthlyRent);
        displayCommissionResult(result);
    });
    function updateUiForTradeType(type) {
        if (type === '임대차') {
            priceContainer.classList.add('hidden'); rentContainer.classList.remove('hidden');
        } else {
            priceContainer.classList.remove('hidden'); rentContainer.classList.add('hidden');
        }
    }
    function calculateCommissionFee(tradeType, propertyType, price, monthlyRent) {
        let dealAmount = price;
        if (tradeType === '임대차') { const convertedPrice = price + (monthlyRent * 100); dealAmount = (convertedPrice < 50000000) ? price + (monthlyRent * 70) : convertedPrice; }
        let rate = 0; let limit = Infinity;
        if (propertyType === '주택') {
            if (tradeType === '매매') {
                if (dealAmount < 50000000) { rate = 0.006; limit = 250000; }
                else if (dealAmount < 200000000) { rate = 0.005; limit = 800000; }
                else if (dealAmount < 900000000) { rate = 0.004; } else if (dealAmount < 1200000000) { rate = 0.005; }
                else if (dealAmount < 1500000000) { rate = 0.006; } else { rate = 0.007; }
            } else {
                if (dealAmount < 50000000) { rate = 0.005; limit = 200000; }
                else if (dealAmount < 100000000) { rate = 0.004; limit = 300000; }
                else if (dealAmount < 600000000) { rate = 0.003; } else if (dealAmount < 1200000000) { rate = 0.004; }
                else if (dealAmount < 1500000000) { rate = 0.005; } else { rate = 0.006; }
            }
        } else if (propertyType === '오피스텔') { rate = (tradeType === '매매') ? 0.005 : 0.004; } else { rate = 0.009; }
        const finalFee = Math.min(dealAmount * rate, limit);
        return { fee: Math.floor(finalFee), rate: rate * 100, limit: limit === Infinity ? null : limit };
    }
    function displayCommissionResult(result) {
        commissionResultText.textContent = `${result.fee.toLocaleString('ko-KR')} 원`;
        let details = `적용 요율: ${result.rate.toFixed(2)}%`;
        if (result.limit) { details += ` (한도액: ${result.limit.toLocaleString('ko-KR')}원)`; }
        commissionResultDetails.innerHTML = details + '<br>VAT 10%는 별도이며, 실제 보수는 협의를 통해 결정됩니다.';
    }

    // --- Savings Interest Calculator Logic ---
    const interestCalculateBtn = document.getElementById('interestCalculateBtn');
    interestCalculateBtn.addEventListener('click', () => {
        const principal = Number(document.getElementById('principal').value); const period = Number(document.getElementById('period').value);
        const annualRate = Number(document.getElementById('rate').value) / 100; const depositType = document.querySelector('input[name="depositType"]:checked').value;
        const taxType = document.querySelector('input[name="taxType"]:checked').value; const interestErrorText = document.getElementById('interestErrorText');
        if (principal <= 0 || period <= 0 || annualRate <= 0) { interestErrorText.textContent = "모든 값을 정확히 입력해주세요."; return; }
        interestErrorText.textContent = "";
        let interestBeforeTax = (depositType === '단리') ? principal * annualRate * (period / 12) : principal * (Math.pow(1 + (annualRate / 12), period)) - principal;
        const tax = Math.floor(interestBeforeTax * (taxType === '일반' ? 0.154 : 0)); const total = principal + interestBeforeTax - tax;
        document.getElementById('interestResultTotal').textContent = `${Math.floor(total).toLocaleString('ko-KR')} 원`; document.getElementById('interestResultPrincipal').textContent = `${principal.toLocaleString('ko-KR')} 원`;
        document.getElementById('interestResultBeforeTax').textContent = `${Math.floor(interestBeforeTax).toLocaleString('ko-KR')} 원`; document.getElementById('interestResultTax').textContent = `- ${tax.toLocaleString('ko-KR')} 원`;
    });

    // --- Robux Currency Calculator Logic ---
    const robuxInput = document.getElementById('robuxInput'); 
    const krwInput_robux = document.getElementById('krwInput'); 
    const usdInput_robux = document.getElementById('usdInput');
    const robuxRateInfo = document.getElementById('robuxRateInfo'); 
    const robuxStandardInfo = document.getElementById('robuxStandardInfo');
    const platformSelector = document.getElementById('platformSelector'); 
    const PC_KRW_PER_ROBUX = 15000 / 1200;
    const MOBILE_KRW_PER_ROBUX = 7500 / 400; 
    let currentKrwPerRobux = PC_KRW_PER_ROBUX;
    let robux_USD_TO_KRW = 1350; 
    let isRobuxCalculating = false;

    async function fetchRobuxRate() {
        try {
            const response = await fetch('https://open.er-api.com/v6/latest/USD'); if (!response.ok) throw new Error('Network response was not ok');
            const data = await response.json(); robux_USD_TO_KRW = data.rates.KRW;
            robuxRateInfo.textContent = `현재 환율 적용 중: 1달러 = ${robux_USD_TO_KRW.toFixed(2)}원`;
        } catch (error) { console.error("환율 정보 가져오기 실패:", error); robuxRateInfo.textContent = `실시간 환율 로딩 실패. 예상 환율(1달러 = ${robux_USD_TO_KRW}원)을 적용합니다.`; }
    }
    
    function updateRobuxInfoText() {
        const selectedPlatform = platformSelector.querySelector('input[name="platform"]:checked').value;
        robuxStandardInfo.textContent = selectedPlatform === 'pc' ? '이 계산은 공식 PC/웹 구매가(1,200 R$ = 15,000원)를 기준으로 합니다.' : '이 계산은 공식 모바일 구매가(400 R$ = 7,500원)를 기준으로 합니다.';
    }
    
    platformSelector.addEventListener('change', (e) => {
        if (e.target.name === 'platform') {
            currentKrwPerRobux = e.target.value === 'pc' ? PC_KRW_PER_ROBUX : MOBILE_KRW_PER_ROBUX;
            updateRobuxInfoText();
            if (robuxInput.value) updateRobuxCalculations('robux');
            else if (krwInput_robux.value) updateRobuxCalculations('krw');
            else if (usdInput_robux.value) updateRobuxCalculations('usd');
        }
    });

    function updateRobuxCalculations(source) {
        if (isRobuxCalculating) return; isRobuxCalculating = true;
        const robux = parseFloat(robuxInput.value); const krw = parseFloat(krwInput_robux.value); const usd = parseFloat(usdInput_robux.value);
        if (source === 'robux') {
            if (!isNaN(robux) && robuxInput.value !== '') { const calculatedKrw = robux * currentKrwPerRobux; krwInput_robux.value = Math.round(calculatedKrw); usdInput_robux.value = (calculatedKrw / robux_USD_TO_KRW).toFixed(2); } else { krwInput_robux.value = ''; usdInput_robux.value = ''; }
        } else if (source === 'krw') {
            if (!isNaN(krw) && krwInput_robux.value !== '') { robuxInput.value = Math.round(krw / currentKrwPerRobux); usdInput_robux.value = (krw / robux_USD_TO_KRW).toFixed(2); } else { robuxInput.value = ''; usdInput_robux.value = ''; }
        } else if (source === 'usd') {
            if (!isNaN(usd) && usdInput_robux.value !== '') { const calculatedKrw = usd * robux_USD_TO_KRW; krwInput_robux.value = Math.round(calculatedKrw); robuxInput.value = Math.round(calculatedKrw / currentKrwPerRobux); } else { robuxInput.value = ''; krwInput_robux.value = ''; }
        }
        isRobuxCalculating = false;
    }
    
    // --- Initialize ---
    Promise.all([fetchCryptoRates(), fetchExchangeRates(), fetchRobuxRate()]).then(() => {
        updateRobuxInfoText();
        showTab('crypto');
    });

    robuxInput.addEventListener('input', () => updateRobuxCalculations('robux'));
    krwInput_robux.addEventListener('input', () => updateRobuxCalculations('krw'));
    usdInput_robux.addEventListener('input', () => updateRobuxCalculations('usd'));

});
</script>

</body>
</html>
